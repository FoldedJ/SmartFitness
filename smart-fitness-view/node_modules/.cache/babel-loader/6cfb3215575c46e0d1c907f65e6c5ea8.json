{"remainingRequest":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\babel-loader\\lib\\index.js!E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\SmartFitness\\smart-fitness-view\\src\\views\\user\\DietRecord.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\SmartFitness\\smart-fitness-view\\src\\views\\user\\DietRecord.vue","mtime":1749563900289},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749639512193},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1749639511518},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749639512193},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1749639525774}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0LmpzIjsKaW1wb3J0IE1lYWxSZWNvcmRMaXN0IGZyb20gIkAvY29tcG9uZW50cy9NZWFsUmVjb3JkTGlzdC52dWUiOwppbXBvcnQgeyBnZXRMYXRlc3ROdXRyaXRpb25SZWNvbW1lbmRhdGlvbiB9IGZyb20gJ0AvYXBpL251dHJpdGlvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGlldFJlY29yZCIsCiAgY29tcG9uZW50czogewogICAgTWVhbFJlY29yZExpc3QKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0ZWREYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSwKICAgICAgYWN0aXZlTWVhbFR5cGU6ICIxIiwKICAgICAgZGlldFJlY29yZHM6IFtdLAogICAgICB0b3RhbE51dHJpdGlvbjogewogICAgICAgIGNhbG9yaWVzOiAwLAogICAgICAgIHByb3RlaW46IDAsCiAgICAgICAgY2FyYm9oeWRyYXRlOiAwLAogICAgICAgIGZhdDogMAogICAgICB9LAogICAgICBudXRyaXRpb25UYXJnZXRzOiB7CiAgICAgICAgY2Fsb3JpZXM6IDAsCiAgICAgICAgcHJvdGVpbjogMCwKICAgICAgICBjYXJib2h5ZHJhdGU6IDAsCiAgICAgICAgZmF0OiAwCiAgICAgIH0sCiAgICAgIGFkZERpZXREaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZGlldEZvcm06IHsKICAgICAgICByZWNvcmREYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSwKICAgICAgICBtZWFsVHlwZTogMQogICAgICB9LAogICAgICBmb29kU2VhcmNoS2V5d29yZDogIiIsCiAgICAgIGZvb2RMaXN0OiBbXSwKICAgICAgc2VsZWN0ZWRGb29kczogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB1c2VySW5mbzoge30KICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckluZm8oKTsKICAgIHRoaXMubG9hZERpZXRSZWNvcmRzKCk7CiAgICB0aGlzLmxvYWRMYXRlc3ROdXRyaXRpb25SZWNvbW1lbmRhdGlvbigpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPlueUqOaIt+S/oeaBrwogICAgZ2V0VXNlckluZm8oKSB7CiAgICAgIGNvbnN0IHVzZXJJbmZvU3RyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKTsKCiAgICAgIGlmICh1c2VySW5mb1N0cikgewogICAgICAgIHRoaXMudXNlckluZm8gPSBKU09OLnBhcnNlKHVzZXJJbmZvU3RyKTsKICAgICAgfQogICAgfSwKCiAgICAvLyDliqDovb3mnIDmlrDnmoTokKXlhbvmjqjojZAKICAgIGFzeW5jIGxvYWRMYXRlc3ROdXRyaXRpb25SZWNvbW1lbmRhdGlvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldExhdGVzdE51dHJpdGlvblJlY29tbWVuZGF0aW9uKCk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCAmJiByZXNwb25zZS5kYXRhLmRhdGEpIHsKICAgICAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy5udXRyaXRpb25UYXJnZXRzID0gewogICAgICAgICAgICBjYWxvcmllczogcmVjb21tZW5kYXRpb24uY2Fsb3JpZXMgfHwgMCwKICAgICAgICAgICAgcHJvdGVpbjogcGFyc2VGbG9hdChyZWNvbW1lbmRhdGlvbi5wcm90ZWluKSB8fCAwLAogICAgICAgICAgICBjYXJib2h5ZHJhdGU6IHBhcnNlRmxvYXQocmVjb21tZW5kYXRpb24uY2FyYm9oeWRyYXRlKSB8fCAwLAogICAgICAgICAgICBmYXQ6IHBhcnNlRmxvYXQocmVjb21tZW5kYXRpb24uZmF0KSB8fCAwCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3okKXlhbvmjqjojZDlpLHotKU6JywgZXJyb3IpOwogICAgICB9CiAgICB9LAoKICAgIC8vIOWKoOi9vemlrumjn+iusOW9lQogICAgYXN5bmMgbG9hZERpZXRSZWNvcmRzKCkgewogICAgICB0cnkgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0LmdldChgL2RpZXQvcmVjb3Jkc2AsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlckluZm8uaWQsCiAgICAgICAgICAgIHJlY29yZERhdGU6IHRoaXMuc2VsZWN0ZWREYXRlCiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5kaWV0UmVjb3JkcyA9IHJlc3BvbnNlLmRhdGEuZGF0YSB8fCBbXTsKICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVG90YWxOdXRyaXRpb24oKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigi5Yqg6L296aWu6aOf6K6w5b2V5aSx6LSlOiIsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLliqDovb3ppa7po5/orrDlvZXlpLHotKUiKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICAvLyDorqHnrpfmgLvokKXlhbsKICAgIGNhbGN1bGF0ZVRvdGFsTnV0cml0aW9uKCkgewogICAgICB0aGlzLnRvdGFsTnV0cml0aW9uID0gewogICAgICAgIGNhbG9yaWVzOiAwLAogICAgICAgIHByb3RlaW46IDAsCiAgICAgICAgY2FyYm9oeWRyYXRlOiAwLAogICAgICAgIGZhdDogMAogICAgICB9OwogICAgICB0aGlzLmRpZXRSZWNvcmRzLmZvckVhY2gocmVjb3JkID0+IHsKICAgICAgICB0aGlzLnRvdGFsTnV0cml0aW9uLmNhbG9yaWVzICs9IHJlY29yZC5hY3R1YWxDYWxvcmllcyB8fCAwOwogICAgICAgIHRoaXMudG90YWxOdXRyaXRpb24ucHJvdGVpbiArPSBwYXJzZUZsb2F0KHJlY29yZC5hY3R1YWxQcm90ZWluIHx8IDApOwogICAgICAgIHRoaXMudG90YWxOdXRyaXRpb24uY2FyYm9oeWRyYXRlICs9IHBhcnNlRmxvYXQocmVjb3JkLmFjdHVhbENhcmJvaHlkcmF0ZSB8fCAwKTsKICAgICAgICB0aGlzLnRvdGFsTnV0cml0aW9uLmZhdCArPSBwYXJzZUZsb2F0KHJlY29yZC5hY3R1YWxGYXQgfHwgMCk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyDojrflj5bov5vluqbnmb7liIbmr5QKICAgIGdldFByb2dyZXNzUGVyY2VudGFnZShudXRyaWVudCkgewogICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy50b3RhbE51dHJpdGlvbltudXRyaWVudF07CiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMubnV0cml0aW9uVGFyZ2V0c1tudXRyaWVudF07CiAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLnJvdW5kKGN1cnJlbnQgLyB0YXJnZXQgKiAxMDApLCAxMDApOwogICAgfSwKCiAgICAvLyDojrflj5bov5vluqbmnaHpopzoibIKICAgIGdldFByb2dyZXNzQ29sb3IobnV0cmllbnQpIHsKICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMudG90YWxOdXRyaXRpb25bbnV0cmllbnRdOwogICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLm51dHJpdGlvblRhcmdldHNbbnV0cmllbnRdOwogICAgICByZXR1cm4gY3VycmVudCA+IHRhcmdldCA/ICcjRjU2QzZDJyA6ICcjNDA5RUZGJzsKICAgIH0sCgogICAgLy8g5qC55o2u6aSQ6aOf57G75Z6L6I635Y+W6K6w5b2VCiAgICBnZXRNZWFsUmVjb3JkcyhtZWFsVHlwZSkgewogICAgICByZXR1cm4gdGhpcy5kaWV0UmVjb3Jkcy5maWx0ZXIocmVjb3JkID0+IHJlY29yZC5tZWFsVHlwZSA9PT0gbWVhbFR5cGUpOwogICAgfSwKCiAgICAvLyDppJDpo5/nsbvlnovliIfmjaIKICAgIGhhbmRsZU1lYWxUeXBlQ2hhbmdlKHRhYikgewogICAgICB0aGlzLmFjdGl2ZU1lYWxUeXBlID0gdGFiLm5hbWU7CiAgICB9LAoKICAgIC8vIOaYvuekuua3u+WKoOmlrumjn+iusOW9leWvueivneahhgogICAgc2hvd0FkZERpZXREaWFsb2coKSB7CiAgICAgIHRoaXMuZGlldEZvcm0ucmVjb3JkRGF0ZSA9IHRoaXMuc2VsZWN0ZWREYXRlOwogICAgICB0aGlzLmRpZXRGb3JtLm1lYWxUeXBlID0gcGFyc2VJbnQodGhpcy5hY3RpdmVNZWFsVHlwZSk7CiAgICAgIHRoaXMuYWRkRGlldERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKCiAgICAvLyDmkJzntKLpo5/niakKICAgIGFzeW5jIHNlYXJjaEZvb2QoKSB7CiAgICAgIGlmICghdGhpcy5mb29kU2VhcmNoS2V5d29yZC50cmltKCkpIHsKICAgICAgICB0aGlzLmZvb2RMaXN0ID0gW107CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdC5wb3N0KCIvZm9vZC9xdWVyeSIsIHsKICAgICAgICAgIGZvb2ROYW1lOiB0aGlzLmZvb2RTZWFyY2hLZXl3b3JkLAogICAgICAgICAgY3VycmVudDogMSwKICAgICAgICAgIHNpemU6IDIwCiAgICAgICAgfSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5mb29kTGlzdCA9IChyZXNwb25zZS5kYXRhLmRhdGEgfHwgW10pLm1hcChmb29kID0+ICh7IC4uLmZvb2QsCiAgICAgICAgICAgIGNvbnN1bWVBbW91bnQ6IGZvb2Quc2VydmluZ1NpemUKICAgICAgICAgIH0pKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigi5pCc57Si6aOf54mp5aSx6LSlOiIsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmkJzntKLpo5/nianlpLHotKUiKTsKICAgICAgfQogICAgfSwKCiAgICAvLyDmt7vliqDpo5/nianliLDorrDlvZUKICAgIGFkZEZvb2RUb1JlY29yZChmb29kKSB7CiAgICAgIGlmICghZm9vZC5jb25zdW1lQW1vdW50IHx8IGZvb2QuY29uc3VtZUFtb3VudCA8PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fovpPlhaXmnInmlYjnmoTmkYTlhaXph48iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSB0aGlzLnNlbGVjdGVkRm9vZHMuZmluZEluZGV4KGYgPT4gZi5pZCA9PT0gZm9vZC5pZCk7CgogICAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZEZvb2RzW2V4aXN0aW5nSW5kZXhdLmNvbnN1bWVBbW91bnQgKz0gZm9vZC5jb25zdW1lQW1vdW50OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWRGb29kcy5wdXNoKHsgLi4uZm9vZCwKICAgICAgICAgIGNvbnN1bWVBbW91bnQ6IGZvb2QuY29uc3VtZUFtb3VudAogICAgICAgIH0pOwogICAgICB9IC8vIOmHjee9ruaQnOe0oue7k+aenOS4reeahOaRhOWFpemHjwoKCiAgICAgIGZvb2QuY29uc3VtZUFtb3VudCA9IGZvb2Quc2VydmluZ1NpemU7CiAgICB9LAoKICAgIC8vIOS7juiusOW9leS4reenu+mZpOmjn+eJqQogICAgcmVtb3ZlRm9vZEZyb21SZWNvcmQoaW5kZXgpIHsKICAgICAgdGhpcy5zZWxlY3RlZEZvb2RzLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAoKICAgIC8vIOiuoeeul+iQpeWFu+e0oAogICAgY2FsY3VsYXRlTnV0cml0aW9uKGZvb2QsIG51dHJpZW50KSB7CiAgICAgIGNvbnN0IHJhdGlvID0gZm9vZC5jb25zdW1lQW1vdW50IC8gZm9vZC5zZXJ2aW5nU2l6ZTsKICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUZsb2F0KGZvb2RbbnV0cmllbnRdIHx8IDApICogcmF0aW87CiAgICAgIHJldHVybiBudXRyaWVudCA9PT0gJ2NhbG9yaWVzJyA/IE1hdGgucm91bmQodmFsdWUpIDogdmFsdWUudG9GaXhlZCgxKTsKICAgIH0sCgogICAgLy8g5o+Q5Lqk6aWu6aOf6K6w5b2VCiAgICBhc3luYyBzdWJtaXREaWV0UmVjb3JkKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZEZvb2RzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36Iez5bCR6YCJ5oup5LiA56eN6aOf54mpIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0cnkgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgY29uc3QgZGlldERhdGEgPSB7CiAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlckluZm8uaWQsCiAgICAgICAgICByZWNvcmREYXRlOiB0aGlzLmRpZXRGb3JtLnJlY29yZERhdGUsCiAgICAgICAgICBtZWFsVHlwZTogdGhpcy5kaWV0Rm9ybS5tZWFsVHlwZSwKICAgICAgICAgIGZvb2RJZHM6IHRoaXMuc2VsZWN0ZWRGb29kcy5tYXAoZm9vZCA9PiBmb29kLmlkKSwKICAgICAgICAgIGZvb2ROdW1zOiB0aGlzLnNlbGVjdGVkRm9vZHMubWFwKGZvb2QgPT4gZm9vZC5jb25zdW1lQW1vdW50KQogICAgICAgIH07CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0LnBvc3QoIi9kaWV0L3NhdmUiLCBkaWV0RGF0YSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLkv53lrZjppa7po5/orrDlvZXmiJDlip8iKTsKICAgICAgICAgIHRoaXMuYWRkRGlldERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgIHRoaXMucmVzZXREaWV0Rm9ybSgpOwogICAgICAgICAgdGhpcy5sb2FkRGlldFJlY29yZHMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwb25zZS5kYXRhLm1zZyB8fCAi5L+d5a2Y6aWu6aOf6K6w5b2V5aSx6LSlIik7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuS/neWtmOmlrumjn+iusOW9leWksei0pToiLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5L+d5a2Y6aWu6aOf6K6w5b2V5aSx6LSlIik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgLy8g6YeN572u6aWu6aOf6KGo5Y2VCiAgICByZXNldERpZXRGb3JtKCkgewogICAgICB0aGlzLnNlbGVjdGVkRm9vZHMgPSBbXTsKICAgICAgdGhpcy5mb29kTGlzdCA9IFtdOwogICAgICB0aGlzLmZvb2RTZWFyY2hLZXl3b3JkID0gIiI7CiAgICAgIHRoaXMuZGlldEZvcm0gPSB7CiAgICAgICAgcmVjb3JkRGF0ZTogdGhpcy5zZWxlY3RlZERhdGUsCiAgICAgICAgbWVhbFR5cGU6IHBhcnNlSW50KHRoaXMuYWN0aXZlTWVhbFR5cGUpCiAgICAgIH07CiAgICB9LAoKICAgIC8vIOWIoOmZpOmlrumjn+iusOW9lQogICAgYXN5bmMgZGVsZXRlRGlldFJlY29yZChyZWNvcmRJZCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdC5kZWxldGUoYC9kaWV0L2RlbGV0ZS8ke3JlY29yZElkfWApOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk6K6w5b2V5oiQ5YqfIik7CiAgICAgICAgICB0aGlzLmxvYWREaWV0UmVjb3JkcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnIHx8ICLliKDpmaTorrDlvZXlpLHotKUiKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigi5Yig6Zmk6K6w5b2V5aSx6LSlOiIsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLliKDpmaTorrDlvZXlpLHotKUiKTsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"sources":["DietRecord.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"diet-record\">\n    <div class=\"header\">\n      <h2>饮食记录</h2>\n      <div class=\"date-selector\">\n        <el-date-picker\n          v-model=\"selectedDate\"\n          type=\"date\"\n          placeholder=\"选择日期\"\n          format=\"yyyy-MM-dd\"\n          value-format=\"yyyy-MM-dd\"\n          @change=\"loadDietRecords\"\n        >\n        </el-date-picker>\n        <el-button type=\"primary\" @click=\"showAddDietDialog\">添加饮食记录</el-button>\n      </div>\n    </div>\n\n    <!-- 营养汇总卡片 -->\n    <div class=\"nutrition-summary\">\n      <el-card>\n        <div slot=\"header\">\n          <span>今日营养摄入汇总</span>\n        </div>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"6\">\n            <div class=\"nutrition-item\">\n              <div class=\"nutrition-value\">{{ totalNutrition.calories }}/{{ nutritionTargets.calories }}</div>\n              <div class=\"nutrition-label\">热量 (kcal)</div>\n              <div class=\"nutrition-progress\">\n                <el-progress \n                  :percentage=\"getProgressPercentage('calories')\" \n                  :show-text=\"false\"\n                  :color=\"getProgressColor('calories')\">\n                </el-progress>\n              </div>\n            </div>\n          </el-col>\n          <el-col :span=\"6\">\n            <div class=\"nutrition-item\">\n              <div class=\"nutrition-value\">{{ totalNutrition.protein.toFixed(1) }}/{{ nutritionTargets.protein.toFixed(1) }}</div>\n              <div class=\"nutrition-label\">蛋白质 (g)</div>\n              <div class=\"nutrition-progress\">\n                <el-progress \n                  :percentage=\"getProgressPercentage('protein')\" \n                  :show-text=\"false\"\n                  :color=\"getProgressColor('protein')\">\n                </el-progress>\n              </div>\n            </div>\n          </el-col>\n          <el-col :span=\"6\">\n            <div class=\"nutrition-item\">\n              <div class=\"nutrition-value\">{{ totalNutrition.carbohydrate.toFixed(1) }}/{{ nutritionTargets.carbohydrate.toFixed(1) }}</div>\n              <div class=\"nutrition-label\">碳水化合物 (g)</div>\n              <div class=\"nutrition-progress\">\n                <el-progress \n                  :percentage=\"getProgressPercentage('carbohydrate')\" \n                  :show-text=\"false\"\n                  :color=\"getProgressColor('carbohydrate')\">\n                </el-progress>\n              </div>\n            </div>\n          </el-col>\n          <el-col :span=\"6\">\n            <div class=\"nutrition-item\">\n              <div class=\"nutrition-value\">{{ totalNutrition.fat.toFixed(1) }}/{{ nutritionTargets.fat.toFixed(1) }}</div>\n              <div class=\"nutrition-label\">脂肪 (g)</div>\n              <div class=\"nutrition-progress\">\n                <el-progress \n                  :percentage=\"getProgressPercentage('fat')\" \n                  :show-text=\"false\"\n                  :color=\"getProgressColor('fat')\">\n                </el-progress>\n              </div>\n            </div>\n          </el-col>\n        </el-row>\n      </el-card>\n    </div>\n\n    <!-- 餐食记录 -->\n    <div class=\"meal-records\">\n      <el-tabs v-model=\"activeMealType\" @tab-click=\"handleMealTypeChange\">\n        <el-tab-pane label=\"早餐\" name=\"1\">\n          <meal-record-list \n            :records=\"getMealRecords(1)\" \n            @delete=\"deleteDietRecord\"\n          ></meal-record-list>\n        </el-tab-pane>\n        <el-tab-pane label=\"午餐\" name=\"2\">\n          <meal-record-list \n            :records=\"getMealRecords(2)\" \n            @delete=\"deleteDietRecord\"\n          ></meal-record-list>\n        </el-tab-pane>\n        <el-tab-pane label=\"晚餐\" name=\"3\">\n          <meal-record-list \n            :records=\"getMealRecords(3)\" \n            @delete=\"deleteDietRecord\"\n          ></meal-record-list>\n        </el-tab-pane>\n        <el-tab-pane label=\"加餐\" name=\"4\">\n          <meal-record-list \n            :records=\"getMealRecords(4)\" \n            @delete=\"deleteDietRecord\"\n          ></meal-record-list>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n\n    <!-- 添加饮食记录对话框 -->\n    <el-dialog\n      title=\"添加饮食记录\"\n      :visible.sync=\"addDietDialogVisible\"\n      width=\"800px\"\n      @close=\"resetDietForm\"\n    >\n      <div class=\"diet-form\">\n        <el-form :model=\"dietForm\" ref=\"dietForm\" label-width=\"100px\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"12\">\n              <el-form-item label=\"记录日期\" prop=\"recordDate\">\n                <el-date-picker\n                  v-model=\"dietForm.recordDate\"\n                  type=\"date\"\n                  placeholder=\"选择日期\"\n                  format=\"yyyy-MM-dd\"\n                  value-format=\"yyyy-MM-dd\"\n                  style=\"width: 100%\"\n                >\n                </el-date-picker>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"餐食类型\" prop=\"mealType\">\n                <el-select v-model=\"dietForm.mealType\" placeholder=\"请选择餐食类型\" style=\"width: 100%\">\n                  <el-option label=\"早餐\" :value=\"1\"></el-option>\n                  <el-option label=\"午餐\" :value=\"2\"></el-option>\n                  <el-option label=\"晚餐\" :value=\"3\"></el-option>\n                  <el-option label=\"加餐\" :value=\"4\"></el-option>\n                </el-select>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-form>\n\n        <!-- 食物搜索 -->\n        <div class=\"food-search\">\n          <el-input\n            v-model=\"foodSearchKeyword\"\n            placeholder=\"搜索食物\"\n            @input=\"searchFood\"\n            clearable\n          >\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchFood\"></el-button>\n          </el-input>\n        </div>\n\n        <!-- 食物列表 -->\n        <div class=\"food-list\" v-if=\"foodList.length > 0\">\n          <el-table :data=\"foodList\" style=\"width: 100%\" max-height=\"300\">\n            <el-table-column prop=\"foodName\" label=\"食物名称\" width=\"150\"></el-table-column>\n            <el-table-column prop=\"servingSize\" label=\"份量\" width=\"100\">\n              <template slot-scope=\"scope\">\n                {{ scope.row.servingSize }}{{ scope.row.servingUnit }}\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"calories\" label=\"热量(kcal)\" width=\"100\"></el-table-column>\n            <el-table-column prop=\"protein\" label=\"蛋白质(g)\" width=\"100\"></el-table-column>\n            <el-table-column label=\"摄入量\" width=\"150\">\n              <template slot-scope=\"scope\">\n                <el-input-number\n                  v-model=\"scope.row.consumeAmount\"\n                  :min=\"0\"\n                  :precision=\"0\"\n                  size=\"small\"\n                  style=\"width: 100px\"\n                ></el-input-number>\n                <span style=\"margin-left: 5px\">{{ scope.row.servingUnit }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <el-button\n                  type=\"primary\"\n                  size=\"mini\"\n                  @click=\"addFoodToRecord(scope.row)\"\n                  :disabled=\"!scope.row.consumeAmount || scope.row.consumeAmount <= 0\"\n                >\n                  添加\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n\n        <!-- 已选择的食物 -->\n        <div class=\"selected-foods\" v-if=\"selectedFoods.length > 0\">\n          <h4>已选择的食物：</h4>\n          <el-table :data=\"selectedFoods\" style=\"width: 100%\">\n            <el-table-column prop=\"foodName\" label=\"食物名称\" width=\"150\"></el-table-column>\n            <el-table-column label=\"摄入量\" width=\"150\">\n              <template slot-scope=\"scope\">\n                {{ scope.row.consumeAmount }}{{ scope.row.servingUnit }}\n              </template>\n            </el-table-column>\n            <el-table-column label=\"热量\" width=\"100\">\n              <template slot-scope=\"scope\">\n                {{ calculateNutrition(scope.row, 'calories') }} kcal\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <el-button\n                  type=\"danger\"\n                  size=\"mini\"\n                  @click=\"removeFoodFromRecord(scope.$index)\"\n                >\n                  移除\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </div>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDietDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitDietRecord\" :disabled=\"selectedFoods.length === 0\">保存记录</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request.js\";\nimport MealRecordList from \"@/components/MealRecordList.vue\";\nimport { getLatestNutritionRecommendation } from '@/api/nutrition';\n\nexport default {\n  name: \"DietRecord\",\n  components: {\n    MealRecordList\n  },\n  data() {\n    return {\n      selectedDate: new Date().toISOString().split('T')[0],\n      activeMealType: \"1\",\n      dietRecords: [],\n      totalNutrition: {\n        calories: 0,\n        protein: 0,\n        carbohydrate: 0,\n        fat: 0\n      },\n      nutritionTargets: {\n        calories: 0,\n        protein: 0,\n        carbohydrate: 0,\n        fat: 0\n      },\n      addDietDialogVisible: false,\n      dietForm: {\n        recordDate: new Date().toISOString().split('T')[0],\n        mealType: 1\n      },\n      foodSearchKeyword: \"\",\n      foodList: [],\n      selectedFoods: [],\n      loading: false,\n      userInfo: {}\n    };\n  },\n  mounted() {\n    this.getUserInfo();\n    this.loadDietRecords();\n    this.loadLatestNutritionRecommendation();\n  },\n  methods: {\n    // 获取用户信息\n    getUserInfo() {\n      const userInfoStr = sessionStorage.getItem('userInfo');\n      if (userInfoStr) {\n        this.userInfo = JSON.parse(userInfoStr);\n      }\n    },\n\n    // 加载最新的营养推荐\n    async loadLatestNutritionRecommendation() {\n      try {\n        const response = await getLatestNutritionRecommendation();\n        if (response.data.code === 200 && response.data.data) {\n          const recommendation = response.data.data;\n          this.nutritionTargets = {\n            calories: recommendation.calories || 0,\n            protein: parseFloat(recommendation.protein) || 0,\n            carbohydrate: parseFloat(recommendation.carbohydrate) || 0,\n            fat: parseFloat(recommendation.fat) || 0\n          };\n        }\n      } catch (error) {\n        console.error('加载营养推荐失败:', error);\n      }\n    },\n\n    // 加载饮食记录\n    async loadDietRecords() {\n      try {\n        this.loading = true;\n        const response = await request.get(`/diet/records`, {\n          params: {\n            userId: this.userInfo.id,\n            recordDate: this.selectedDate\n          }\n        });\n        if (response.data.code === 200) {\n          this.dietRecords = response.data.data || [];\n          this.calculateTotalNutrition();\n        }\n      } catch (error) {\n        console.error(\"加载饮食记录失败:\", error);\n        this.$message.error(\"加载饮食记录失败\");\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    // 计算总营养\n    calculateTotalNutrition() {\n      this.totalNutrition = {\n        calories: 0,\n        protein: 0,\n        carbohydrate: 0,\n        fat: 0\n      };\n      \n      this.dietRecords.forEach(record => {\n        this.totalNutrition.calories += record.actualCalories || 0;\n        this.totalNutrition.protein += parseFloat(record.actualProtein || 0);\n        this.totalNutrition.carbohydrate += parseFloat(record.actualCarbohydrate || 0);\n        this.totalNutrition.fat += parseFloat(record.actualFat || 0);\n      });\n    },\n\n    // 获取进度百分比\n    getProgressPercentage(nutrient) {\n      const current = this.totalNutrition[nutrient];\n      const target = this.nutritionTargets[nutrient];\n      return Math.min(Math.round((current / target) * 100), 100);\n    },\n\n    // 获取进度条颜色\n    getProgressColor(nutrient) {\n      const current = this.totalNutrition[nutrient];\n      const target = this.nutritionTargets[nutrient];\n      return current > target ? '#F56C6C' : '#409EFF';\n    },\n\n    // 根据餐食类型获取记录\n    getMealRecords(mealType) {\n      return this.dietRecords.filter(record => record.mealType === mealType);\n    },\n\n    // 餐食类型切换\n    handleMealTypeChange(tab) {\n      this.activeMealType = tab.name;\n    },\n\n    // 显示添加饮食记录对话框\n    showAddDietDialog() {\n      this.dietForm.recordDate = this.selectedDate;\n      this.dietForm.mealType = parseInt(this.activeMealType);\n      this.addDietDialogVisible = true;\n    },\n\n    // 搜索食物\n    async searchFood() {\n      if (!this.foodSearchKeyword.trim()) {\n        this.foodList = [];\n        return;\n      }\n      \n      try {\n        const response = await request.post(\"/food/query\", {\n          foodName: this.foodSearchKeyword,\n          current: 1,\n          size: 20\n        });\n        if (response.data.code === 200) {\n          this.foodList = (response.data.data || []).map(food => ({\n            ...food,\n            consumeAmount: food.servingSize\n          }));\n        }\n      } catch (error) {\n        console.error(\"搜索食物失败:\", error);\n        this.$message.error(\"搜索食物失败\");\n      }\n    },\n\n    // 添加食物到记录\n    addFoodToRecord(food) {\n      if (!food.consumeAmount || food.consumeAmount <= 0) {\n        this.$message.warning(\"请输入有效的摄入量\");\n        return;\n      }\n      \n      const existingIndex = this.selectedFoods.findIndex(f => f.id === food.id);\n      if (existingIndex >= 0) {\n        this.selectedFoods[existingIndex].consumeAmount += food.consumeAmount;\n      } else {\n        this.selectedFoods.push({\n          ...food,\n          consumeAmount: food.consumeAmount\n        });\n      }\n      \n      // 重置搜索结果中的摄入量\n      food.consumeAmount = food.servingSize;\n    },\n\n    // 从记录中移除食物\n    removeFoodFromRecord(index) {\n      this.selectedFoods.splice(index, 1);\n    },\n\n    // 计算营养素\n    calculateNutrition(food, nutrient) {\n      const ratio = food.consumeAmount / food.servingSize;\n      const value = parseFloat(food[nutrient] || 0) * ratio;\n      return nutrient === 'calories' ? Math.round(value) : value.toFixed(1);\n    },\n\n    // 提交饮食记录\n    async submitDietRecord() {\n      if (this.selectedFoods.length === 0) {\n        this.$message.warning(\"请至少选择一种食物\");\n        return;\n      }\n      \n      try {\n        this.loading = true;\n        const dietData = {\n          userId: this.userInfo.id,\n          recordDate: this.dietForm.recordDate,\n          mealType: this.dietForm.mealType,\n          foodIds: this.selectedFoods.map(food => food.id),\n          foodNums: this.selectedFoods.map(food => food.consumeAmount)\n        };\n        \n        const response = await request.post(\"/diet/save\", dietData);\n        if (response.data.code === 200) {\n          this.$message.success(\"保存饮食记录成功\");\n          this.addDietDialogVisible = false;\n          this.resetDietForm();\n          this.loadDietRecords();\n        } else {\n          this.$message.error(response.data.msg || \"保存饮食记录失败\");\n        }\n      } catch (error) {\n        console.error(\"保存饮食记录失败:\", error);\n        this.$message.error(\"保存饮食记录失败\");\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    // 重置饮食表单\n    resetDietForm() {\n      this.selectedFoods = [];\n      this.foodList = [];\n      this.foodSearchKeyword = \"\";\n      this.dietForm = {\n        recordDate: this.selectedDate,\n        mealType: parseInt(this.activeMealType)\n      };\n    },\n\n    // 删除饮食记录\n    async deleteDietRecord(recordId) {\n      try {\n        const response = await request.delete(`/diet/delete/${recordId}`);\n        if (response.data.code === 200) {\n          this.$message.success(\"删除记录成功\");\n          this.loadDietRecords();\n        } else {\n          this.$message.error(response.data.msg || \"删除记录失败\");\n        }\n      } catch (error) {\n        console.error(\"删除记录失败:\", error);\n        this.$message.error(\"删除记录失败\");\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.diet-record {\n  padding: 20px;\n  background-color: #f5f5f5;\n  min-height: 100vh;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 20px;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.header h2 {\n  margin: 0;\n  color: #333;\n}\n\n.date-selector {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.nutrition-summary {\n  margin-bottom: 20px;\n}\n\n.nutrition-item {\n  text-align: center;\n  padding: 10px;\n}\n\n.nutrition-value {\n  font-size: 24px;\n  font-weight: bold;\n  color: #409EFF;\n  margin-bottom: 5px;\n}\n\n.nutrition-label {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 10px;\n}\n\n.nutrition-progress {\n  margin-top: 10px;\n}\n\n.meal-records {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  padding: 20px;\n}\n\n.diet-form {\n  max-height: 600px;\n  overflow-y: auto;\n}\n\n.food-search {\n  margin: 20px 0;\n}\n\n.food-list {\n  margin: 20px 0;\n}\n\n.selected-foods {\n  margin-top: 20px;\n  padding-top: 20px;\n  border-top: 1px solid #eee;\n}\n\n.selected-foods h4 {\n  margin-bottom: 15px;\n  color: #333;\n}\n\n.dialog-footer {\n  text-align: right;\n}\n\n.el-card {\n  border-radius: 8px;\n}\n\n.el-tabs {\n  margin-top: 10px;\n}\n\n.el-table {\n  border-radius: 4px;\n  overflow: hidden;\n}\n</style>"],"sourceRoot":"src/views/user"}]}