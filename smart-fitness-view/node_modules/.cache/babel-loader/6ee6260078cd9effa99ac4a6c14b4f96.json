{"remainingRequest":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\babel-loader\\lib\\index.js!E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\SmartFitness\\smart-fitness-view\\src\\views\\user\\PublishNews.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\SmartFitness\\smart-fitness-view\\src\\views\\user\\PublishNews.vue","mtime":1748172971428},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1748086666483},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1748086666194},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1748086666483},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1748086671258}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICdAd2FuZ2VkaXRvci9lZGl0b3IvZGlzdC9jc3Mvc3R5bGUuY3NzJzsKaW1wb3J0IHsgRWRpdG9yLCBUb29sYmFyIH0gZnJvbSAnQHdhbmdlZGl0b3IvZWRpdG9yLWZvci12dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRWRpdG9yLAogICAgVG9vbGJhcgogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdzRm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHRhZ0lkOiAnJywKICAgICAgICBjb3ZlcjogJycsCiAgICAgICAgY29udGVudDogJycKICAgICAgfSwKICAgICAgdGFnczogW10sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpei1hOiur+agh+mimCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDIsCiAgICAgICAgICBtYXg6IDUwLAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCAyIOWIsCA1MCDkuKrlrZfnrKYnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdGFnSWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nmoIfnrb4nLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBjb3ZlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+S4iuS8oOWwgemdouWbvueJhycsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIGNvbnRlbnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXotYTorq/lhoXlrrknLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAxMCwKICAgICAgICAgIG1lc3NhZ2U6ICflhoXlrrnkuI3og73lsJHkuo4xMOS4quWtl+espicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICAvLyDnvJbovpHlmajlrp7kvosKICAgICAgZWRpdG9yUmVmOiBudWxsLAogICAgICAvLyDlhoXlrrkgSFRNTAogICAgICB2YWx1ZUh0bWw6ICcnLAogICAgICAvLyDmqKHlvI8KICAgICAgbW9kZTogJ2RlZmF1bHQnLAogICAgICAvLyDlt6XlhbfmoI/phY3nva4KICAgICAgdG9vbGJhckNvbmZpZzogewogICAgICAgIHRvb2xiYXJLZXlzOiBbJ2hlYWRlclNlbGVjdCcsICdib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAndGhyb3VnaCcsICdjb2xvcicsICdiZ0NvbG9yJywgJ3wnLCAnZm9udFNpemUnLCAnZm9udEZhbWlseScsICdsaW5lSGVpZ2h0JywgJ3wnLCAnYnVsbGV0ZWRMaXN0JywgJ251bWJlcmVkTGlzdCcsICd0b2RvJywgJ3wnLCAnZW1vdGlvbicsICdpbnNlcnRMaW5rJywgJ2luc2VydEltYWdlJywgJ2luc2VydFRhYmxlJywgJ3wnLCAndW5kbycsICdyZWRvJ10KICAgICAgfSwKICAgICAgLy8g57yW6L6R5Zmo6YWN572uCiAgICAgIGVkaXRvckNvbmZpZzogewogICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5YaF5a65Li4uJywKICAgICAgICBNRU5VX0NPTkY6IHsKICAgICAgICAgIHVwbG9hZEltYWdlOiB7CiAgICAgICAgICAgIHNlcnZlcjogJ2h0dHA6Ly9sb2NhbGhvc3Q6MjEwOTAvYXBpL3BlcnNvbmFsLWhlYXRoL3YxLjAvZmlsZS91cGxvYWQnLAogICAgICAgICAgICBmaWVsZE5hbWU6ICdmaWxlJywKICAgICAgICAgICAgbWF4RmlsZVNpemU6IDEwICogMTAyNCAqIDEwMjQsCiAgICAgICAgICAgIG1heE51bWJlck9mRmlsZXM6IDEwLAogICAgICAgICAgICBhbGxvd2VkRmlsZVR5cGVzOiBbJ2ltYWdlLyonXSwKICAgICAgICAgICAgbWV0YTogewogICAgICAgICAgICAgIHRva2VuOiAneHh4JwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgY3VzdG9tSW5zZXJ0KHJlcywgaW5zZXJ0Rm4pIHsKICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgaW5zZXJ0Rm4ocmVzLmRhdGEsICcnLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WbvueJh+S4iuS8oOWksei0pScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIG9uRXJyb3IoZmlsZSwgZXJyLCByZXMpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGAke2ZpbGUubmFtZX0g5LiK5Lyg5Ye66ZSZYCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRUYWdzKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3VzZXInKTsKICAgIH0sCgogICAgbG9hZFRhZ3MoKSB7CiAgICAgIGNvbnN0IHF1ZXJ5RHRvID0gewogICAgICAgIGN1cnJlbnQ6IDEsCiAgICAgICAgc2l6ZTogMTAwIC8vIOiuvue9ruS4gOS4qui+g+Wkp+eahOWAvOS7peiOt+WPluaJgOacieagh+etvgoKICAgICAgfTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3RhZ3MvcXVlcnknLCBxdWVyeUR0bykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSByZXNwb25zZTsKCiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnRhZ3MgPSBkYXRhLmRhdGEucmVjb3JkcyB8fCBkYXRhLmRhdGE7IC8vIOWFvOWuueWIhumhteWSjOmdnuWIhumhtei/lOWbngogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmoIfnrb7liqDovb3lpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3moIfnrb7lpLHotKU6JywgZXJyb3IpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+agh+etvuWKoOi9veWksei0pScpOwogICAgICB9KTsKICAgIH0sCgogICAgaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgaWYgKHJlcy5jb2RlICE9PSAyMDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflsIHpnaLkuIrkvKDlpLHotKUnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5bCB6Z2i5LiK5Lyg5oiQ5YqfJyk7CiAgICAgIHRoaXMubmV3c0Zvcm0uY292ZXIgPSByZXMuZGF0YTsKICAgIH0sCgogICAgaGFuZGxlQ3JlYXRlZChlZGl0b3IpIHsKICAgICAgdGhpcy5lZGl0b3JSZWYgPSBlZGl0b3I7CiAgICB9LAoKICAgIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgLy8g6I635Y+W57yW6L6R5Zmo5YaF5a65CiAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5lZGl0b3JSZWYuZ2V0SHRtbCgpOwogICAgICAgICAgdGhpcy5uZXdzRm9ybS5jb250ZW50ID0gY29udGVudDsKICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9uZXdzL3NhdmUnLCB0aGlzLm5ld3NGb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgY29uc3QgewogICAgICAgICAgICAgIGRhdGEKICAgICAgICAgICAgfSA9IHJlc3BvbnNlOwoKICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflj5HluIPmiJDlip8nKTsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL25ld3MtcmVjb3JkJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyB8fCAn5Y+R5biD5aSx6LSlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign5Y+R5biD5aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Y+R5biD5aSx6LSlJyk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsgLy8g5riF56m657yW6L6R5Zmo5YaF5a65CgogICAgICBpZiAodGhpcy5lZGl0b3JSZWYpIHsKICAgICAgICB0aGlzLmVkaXRvclJlZi5zZXRIdG1sKCcnKTsKICAgICAgfQogICAgfQoKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMuZWRpdG9yUmVmKSB7CiAgICAgIHRoaXMuZWRpdG9yUmVmLmRlc3Ryb3koKTsKICAgIH0KICB9Cgp9Ow=="},{"version":3,"sources":["PublishNews.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div style=\"padding: 20px 50px;\">\r\n        <div>\r\n            <p style=\"font-size: 24px;padding: 10px 0;font-weight: bolder;\">\r\n                <span @click=\"goBack\" style=\"cursor: pointer;display: inline-block;padding: 0 20px 0 0;\">\r\n                    <i class=\"el-icon-arrow-left\"></i>\r\n                    返回首页\r\n                </span>\r\n                发布资讯\r\n            </p>\r\n        </div>\r\n        <div style=\"height: 6px;background-color: rgb(248, 248, 248);\"></div>\r\n        <div style=\"padding: 20px 0;\">\r\n            <el-form :model=\"newsForm\" :rules=\"rules\" ref=\"newsForm\" label-width=\"100px\">\r\n                <el-form-item label=\"标题\" prop=\"name\">\r\n                    <el-input v-model=\"newsForm.name\" placeholder=\"请输入资讯标题\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"标签\" prop=\"tagId\">\r\n                    <el-select v-model=\"newsForm.tagId\" placeholder=\"请选择标签\" style=\"width: 100%;\">\r\n                        <el-option\r\n                            v-for=\"tag in tags\"\r\n                            :key=\"tag.id\"\r\n                            :label=\"tag.name\"\r\n                            :value=\"tag.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"封面\" prop=\"cover\">\r\n                    <el-upload class=\"avatar-uploader\" action=\"http://localhost:21090/api/personal-heath/v1.0/file/upload\"\r\n                        :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\">\r\n                        <img v-if=\"newsForm.cover\" :src=\"newsForm.cover\" style=\"height: 200px;width: 200px;\">\r\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                    </el-upload>\r\n                </el-form-item>\r\n                <el-form-item label=\"内容\" prop=\"content\">\r\n                    <div class=\"editor-container\">\r\n                        <el-toolbar class=\"editor-toolbar\" :editor=\"editorRef\" :defaultConfig=\"toolbarConfig\" :mode=\"mode\" />\r\n                        <el-editor\r\n                            style=\"height: 500px\"\r\n                            v-model=\"newsForm.content\"\r\n                            :defaultConfig=\"editorConfig\"\r\n                            :mode=\"mode\"\r\n                            @onCreated=\"handleCreated\"\r\n                        />\r\n                    </div>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"submitForm('newsForm')\">发布</el-button>\r\n                    <el-button @click=\"resetForm('newsForm')\">重置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport '@wangeditor/editor/dist/css/style.css'\r\nimport { Editor, Toolbar } from '@wangeditor/editor-for-vue'\r\n\r\nexport default {\r\n    components: { Editor, Toolbar },\r\n    data() {\r\n        return {\r\n            newsForm: {\r\n                name: '',\r\n                tagId: '',\r\n                cover: '',\r\n                content: ''\r\n            },\r\n            tags: [],\r\n            rules: {\r\n                name: [\r\n                    { required: true, message: '请输入资讯标题', trigger: 'blur' },\r\n                    { min: 2, max: 50, message: '长度在 2 到 50 个字符', trigger: 'blur' }\r\n                ],\r\n                tagId: [\r\n                    { required: true, message: '请选择标签', trigger: 'change' }\r\n                ],\r\n                cover: [\r\n                    { required: true, message: '请上传封面图片', trigger: 'change' }\r\n                ],\r\n                content: [\r\n                    { required: true, message: '请输入资讯内容', trigger: 'blur' },\r\n                    { min: 10, message: '内容不能少于10个字符', trigger: 'blur' }\r\n                ]\r\n            },\r\n            // 编辑器实例\r\n            editorRef: null,\r\n            // 内容 HTML\r\n            valueHtml: '',\r\n            // 模式\r\n            mode: 'default',\r\n            // 工具栏配置\r\n            toolbarConfig: {\r\n                toolbarKeys: [\r\n                    'headerSelect',\r\n                    'bold',\r\n                    'italic',\r\n                    'underline',\r\n                    'through',\r\n                    'color',\r\n                    'bgColor',\r\n                    '|',\r\n                    'fontSize',\r\n                    'fontFamily',\r\n                    'lineHeight',\r\n                    '|',\r\n                    'bulletedList',\r\n                    'numberedList',\r\n                    'todo',\r\n                    '|',\r\n                    'emotion',\r\n                    'insertLink',\r\n                    'insertImage',\r\n                    'insertTable',\r\n                    '|',\r\n                    'undo',\r\n                    'redo',\r\n                ]\r\n            },\r\n            // 编辑器配置\r\n            editorConfig: {\r\n                placeholder: '请输入内容...',\r\n                MENU_CONF: {\r\n                    uploadImage: {\r\n                        server: 'http://localhost:21090/api/personal-heath/v1.0/file/upload',\r\n                        fieldName: 'file',\r\n                        maxFileSize: 10 * 1024 * 1024,\r\n                        maxNumberOfFiles: 10,\r\n                        allowedFileTypes: ['image/*'],\r\n                        meta: {\r\n                            token: 'xxx',\r\n                        },\r\n                        customInsert(res, insertFn) {\r\n                            if (res.code === 200) {\r\n                                insertFn(res.data, '', res.data)\r\n                            } else {\r\n                                this.$message.error('图片上传失败')\r\n                            }\r\n                        },\r\n                        onError(file, err, res) {\r\n                            this.$message.error(`${file.name} 上传出错`)\r\n                        },\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.loadTags();\r\n    },\r\n    methods: {\r\n        goBack() {\r\n            this.$router.push('/user');\r\n        },\r\n        loadTags() {\r\n            const queryDto = {\r\n                current: 1,\r\n                size: 100  // 设置一个较大的值以获取所有标签\r\n            };\r\n            this.$axios.post('/tags/query', queryDto).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.tags = data.data.records || data.data;  // 兼容分页和非分页返回\r\n                } else {\r\n                    this.$message.error('标签加载失败');\r\n                }\r\n            }).catch(error => {\r\n                console.error('加载标签失败:', error);\r\n                this.$message.error('标签加载失败');\r\n            });\r\n        },\r\n        handleAvatarSuccess(res, file) {\r\n            if (res.code !== 200) {\r\n                this.$message.error('封面上传失败');\r\n                return;\r\n            }\r\n            this.$message.success('封面上传成功');\r\n            this.newsForm.cover = res.data;\r\n        },\r\n        handleCreated(editor) {\r\n            this.editorRef = editor\r\n        },\r\n        submitForm(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    // 获取编辑器内容\r\n                    const content = this.editorRef.getHtml()\r\n                    this.newsForm.content = content\r\n                    \r\n                    this.$axios.post('/news/save', this.newsForm).then(response => {\r\n                        const { data } = response;\r\n                        if (data.code === 200) {\r\n                            this.$message.success('发布成功');\r\n                            this.$router.push('/news-record');\r\n                        } else {\r\n                            this.$message.error(data.msg || '发布失败');\r\n                        }\r\n                    }).catch(error => {\r\n                        console.error('发布失败:', error);\r\n                        this.$message.error('发布失败');\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        resetForm(formName) {\r\n            this.$refs[formName].resetFields();\r\n            // 清空编辑器内容\r\n            if (this.editorRef) {\r\n                this.editorRef.setHtml('');\r\n            }\r\n        }\r\n    },\r\n    beforeDestroy() {\r\n        if (this.editorRef) {\r\n            this.editorRef.destroy()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.avatar-uploader {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n    width: 200px;\r\n    height: 200px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.avatar-uploader:hover {\r\n    border-color: #409EFF;\r\n}\r\n\r\n.avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 200px;\r\n    height: 200px;\r\n    line-height: 200px;\r\n    text-align: center;\r\n}\r\n\r\n.editor-container {\r\n    border: 1px solid #ccc;\r\n    z-index: 100;\r\n}\r\n\r\n.editor-toolbar {\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n</style> "],"sourceRoot":"src/views/user"}]}