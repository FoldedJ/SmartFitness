{"remainingRequest":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\babel-loader\\lib\\index.js!E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\SmartFitness\\smart-fitness-view\\src\\views\\user\\NutritionHistory.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\SmartFitness\\smart-fitness-view\\src\\views\\user\\NutritionHistory.vue","mtime":1749464482241},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1748086666483},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1748086666194},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1748086666483},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1748086671258}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcXVlcnlOdXRyaXRpb25SZWNvbW1lbmRhdGlvbnMsIGdldE51dHJpdGlvblJlY29tbWVuZGF0aW9uQnlJZCwgZGVsZXRlTnV0cml0aW9uUmVjb21tZW5kYXRpb24sIGdlbmVyYXRlTnV0cml0aW9uUmVjb21tZW5kYXRpb24sIHNhdmVOdXRyaXRpb25SZWNvbW1lbmRhdGlvbiwgc2F2ZU51dHJpdGlvblRhcmdldCB9IGZyb20gJ0AvYXBpL251dHJpdGlvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTnV0cml0aW9uSGlzdG9yeScsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZGF0ZVJhbmdlOiBudWxsLAogICAgICBzZWxlY3RlZFR5cGU6ICcnLAogICAgICByZWNvbW1lbmRhdGlvbkxpc3Q6IFtdLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgZGV0YWlsRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNlbGVjdGVkUmVjb21tZW5kYXRpb246IG51bGwsCiAgICAgIHJlY29tbWVuZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBuZXdSZWNvbW1lbmRhdGlvbjogbnVsbCwKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBzdGFydERhdGU6IG51bGwsCiAgICAgICAgZW5kRGF0ZTogbnVsbCwKICAgICAgICByZWNvbW1lbmRhdGlvblR5cGU6IG51bGwsCiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5zZWFyY2hSZWNvbW1lbmRhdGlvbnMoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBmb3JtYXREYXRlKGRhdGVTdHIpIHsKICAgICAgaWYgKCFkYXRlU3RyKSByZXR1cm4gJyc7CiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTsKICAgICAgcmV0dXJuIGAke2RhdGUuZ2V0RnVsbFllYXIoKX0tJHtTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX0tJHtTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyl9YDsKICAgIH0sCgogICAgZm9ybWF0UmVjb21tZW5kYXRpb25UeXBlKHR5cGUpIHsKICAgICAgY29uc3QgdHlwZU1hcCA9IHsKICAgICAgICAnV0VJR0hUX0xPU1MnOiAn5YeP6YeNJywKICAgICAgICAnTVVTQ0xFX0dBSU4nOiAn5aKe6IKMJywKICAgICAgICAnTUFJTlRFTkFOQ0UnOiAn57u05oyBJywKICAgICAgICAnQ1VTVE9NJzogJ+iHquWumuS5iScKICAgICAgfTsKICAgICAgcmV0dXJuIHR5cGVNYXBbdHlwZV0gfHwgdHlwZTsKICAgIH0sCgogICAgZ2V0VHlwZVRhZ1R5cGUodHlwZSkgewogICAgICBjb25zdCB0eXBlVGFnTWFwID0gewogICAgICAgICdXRUlHSFRfTE9TUyc6ICd3YXJuaW5nJywKICAgICAgICAnTVVTQ0xFX0dBSU4nOiAnc3VjY2VzcycsCiAgICAgICAgJ01BSU5URU5BTkNFJzogJ2luZm8nLAogICAgICAgICdDVVNUT00nOiAncHJpbWFyeScKICAgICAgfTsKICAgICAgcmV0dXJuIHR5cGVUYWdNYXBbdHlwZV0gfHwgJyc7CiAgICB9LAoKICAgIGhhbmRsZURhdGVDaGFuZ2UoKSB7CiAgICAgIGlmICh0aGlzLmRhdGVSYW5nZSkgewogICAgICAgIHRoaXMucXVlcnlQYXJhbXMuc3RhcnREYXRlID0gdGhpcy5kYXRlUmFuZ2VbMF07CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtcy5lbmREYXRlID0gdGhpcy5kYXRlUmFuZ2VbMV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtcy5zdGFydERhdGUgPSBudWxsOwogICAgICAgIHRoaXMucXVlcnlQYXJhbXMuZW5kRGF0ZSA9IG51bGw7CiAgICAgIH0KICAgIH0sCgogICAgaGFuZGxlVHlwZUNoYW5nZSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5yZWNvbW1lbmRhdGlvblR5cGUgPSB0aGlzLnNlbGVjdGVkVHlwZSB8fCBudWxsOwogICAgfSwKCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLnNlYXJjaFJlY29tbWVuZGF0aW9ucygpOwogICAgfSwKCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSB2YWw7CiAgICAgIHRoaXMuc2VhcmNoUmVjb21tZW5kYXRpb25zKCk7CiAgICB9LAoKICAgIGFzeW5jIHNlYXJjaFJlY29tbWVuZGF0aW9ucygpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBxdWVyeU51dHJpdGlvblJlY29tbWVuZGF0aW9ucyh0aGlzLnF1ZXJ5UGFyYW1zKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnJlY29tbWVuZGF0aW9uTGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5saXN0OwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEuZGF0YS50b3RhbDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwb25zZS5kYXRhLm1zZyB8fCAn5p+l6K+i5aSx6LSlJyk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+afpeivouiQpeWFu+aOqOiNkOWOhuWPsuWksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5p+l6K+i6JCl5YW75o6o6I2Q5Y6G5Y+y5aSx6LSlJyk7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgdmlld1JlY29tbWVuZGF0aW9uKHJvdykgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0TnV0cml0aW9uUmVjb21tZW5kYXRpb25CeUlkKHJvdy5pZCk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZFJlY29tbWVuZGF0aW9uID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy5kZXRhaWxEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwb25zZS5kYXRhLm1zZyB8fCAn6I635Y+W6K+m5oOF5aSx6LSlJyk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluiQpeWFu+aOqOiNkOivpuaDheWksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W6JCl5YW75o6o6I2Q6K+m5oOF5aSx6LSlJyk7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgZGVsZXRlUmVjb21tZW5kYXRpb24ocm93KSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5o6o6I2Q6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkZWxldGVOdXRyaXRpb25SZWNvbW1lbmRhdGlvbihyb3cuaWQpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CiAgICAgICAgICB0aGlzLnNlYXJjaFJlY29tbWVuZGF0aW9ucygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnIHx8ICfliKDpmaTlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgaWYgKGVycm9yICE9PSAnY2FuY2VsJykgewogICAgICAgICAgY29uc29sZS5lcnJvcign5Yig6Zmk6JCl5YW75o6o6I2Q5aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOiQpeWFu+aOqOiNkOWksei0pScpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBhc3luYyBnZW5lcmF0ZVJlY29tbWVuZGF0aW9uKCkgewogICAgICB0aGlzLnJlY29tbWVuZERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLm5ld1JlY29tbWVuZGF0aW9uID0gbnVsbDsKCiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZW5lcmF0ZU51dHJpdGlvblJlY29tbWVuZGF0aW9uKCk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5uZXdSZWNvbW1lbmRhdGlvbiA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwb25zZS5kYXRhLm1zZyB8fCAn55Sf5oiQ5o6o6I2Q5aSx6LSlJyk7CiAgICAgICAgICB0aGlzLnJlY29tbWVuZERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign55Sf5oiQ6JCl5YW75o6o6I2Q5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnlJ/miJDokKXlhbvmjqjojZDlpLHotKUnKTsKICAgICAgICB0aGlzLnJlY29tbWVuZERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBzYXZlTmV3UmVjb21tZW5kYXRpb24oKSB7CiAgICAgIGlmICghdGhpcy5uZXdSZWNvbW1lbmRhdGlvbikgcmV0dXJuOwoKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNhdmVOdXRyaXRpb25SZWNvbW1lbmRhdGlvbih0aGlzLm5ld1JlY29tbWVuZGF0aW9uKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/neWtmOWIsOaOqOiNkOWOhuWPsuaIkOWKnycpOwogICAgICAgICAgdGhpcy5yZWNvbW1lbmREaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnNlYXJjaFJlY29tbWVuZGF0aW9ucygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnIHx8ICfkv53lrZjlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5L+d5a2Y5Yiw5o6o6I2Q5Y6G5Y+y5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkv53lrZjliLDmjqjojZDljoblj7LlpLHotKUnKTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBzYXZlTmV3UmVjb21tZW5kYXRpb25Bc1RhcmdldCgpIHsKICAgICAgaWYgKCF0aGlzLm5ld1JlY29tbWVuZGF0aW9uKSByZXR1cm47CgogICAgICB0cnkgewogICAgICAgIGNvbnN0IHRhcmdldERhdGEgPSB7CiAgICAgICAgICBjYWxvcmllczogdGhpcy5uZXdSZWNvbW1lbmRhdGlvbi5jYWxvcmllcywKICAgICAgICAgIHByb3RlaW46IHRoaXMubmV3UmVjb21tZW5kYXRpb24ucHJvdGVpbiwKICAgICAgICAgIGNhcmJvaHlkcmF0ZTogdGhpcy5uZXdSZWNvbW1lbmRhdGlvbi5jYXJib2h5ZHJhdGUsCiAgICAgICAgICBmYXQ6IHRoaXMubmV3UmVjb21tZW5kYXRpb24uZmF0LAogICAgICAgICAgZmliZXI6IHRoaXMubmV3UmVjb21tZW5kYXRpb24uZmliZXIsCiAgICAgICAgICBzb2RpdW06IHRoaXMubmV3UmVjb21tZW5kYXRpb24uc29kaXVtCiAgICAgICAgfTsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNhdmVOdXRyaXRpb25UYXJnZXQodGFyZ2V0RGF0YSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjkuLrokKXlhbvnm67moIfmiJDlip8nKTsKICAgICAgICAgIHRoaXMucmVjb21tZW5kRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnIHx8ICfkv53lrZjlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5L+d5a2Y5Li66JCl5YW755uu5qCH5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkv53lrZjkuLrokKXlhbvnm67moIflpLHotKUnKTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBzYXZlQXNUYXJnZXQoKSB7CiAgICAgIGlmICghdGhpcy5zZWxlY3RlZFJlY29tbWVuZGF0aW9uKSByZXR1cm47CgogICAgICB0cnkgewogICAgICAgIGNvbnN0IHRhcmdldERhdGEgPSB7CiAgICAgICAgICBjYWxvcmllczogdGhpcy5zZWxlY3RlZFJlY29tbWVuZGF0aW9uLmNhbG9yaWVzLAogICAgICAgICAgcHJvdGVpbjogdGhpcy5zZWxlY3RlZFJlY29tbWVuZGF0aW9uLnByb3RlaW4sCiAgICAgICAgICBjYXJib2h5ZHJhdGU6IHRoaXMuc2VsZWN0ZWRSZWNvbW1lbmRhdGlvbi5jYXJib2h5ZHJhdGUsCiAgICAgICAgICBmYXQ6IHRoaXMuc2VsZWN0ZWRSZWNvbW1lbmRhdGlvbi5mYXQsCiAgICAgICAgICBmaWJlcjogdGhpcy5zZWxlY3RlZFJlY29tbWVuZGF0aW9uLmZpYmVyLAogICAgICAgICAgc29kaXVtOiB0aGlzLnNlbGVjdGVkUmVjb21tZW5kYXRpb24uc29kaXVtCiAgICAgICAgfTsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNhdmVOdXRyaXRpb25UYXJnZXQodGFyZ2V0RGF0YSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjkuLrokKXlhbvnm67moIfmiJDlip8nKTsKICAgICAgICAgIHRoaXMuZGV0YWlsRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnIHx8ICfkv53lrZjlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5L+d5a2Y5Li66JCl5YW755uu5qCH5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkv53lrZjkuLrokKXlhbvnm67moIflpLHotKUnKTsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"sources":["NutritionHistory.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"nutrition-history\">\n    <div class=\"header\">\n      <h2>营养推荐历史</h2>\n      <div class=\"search-bar\">\n        <el-date-picker\n          v-model=\"dateRange\"\n          type=\"daterange\"\n          range-separator=\"至\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          format=\"yyyy-MM-dd\"\n          value-format=\"yyyy-MM-dd\"\n          @change=\"handleDateChange\"\n        ></el-date-picker>\n        <el-select v-model=\"selectedType\" placeholder=\"推荐类型\" clearable @change=\"handleTypeChange\">\n          <el-option label=\"全部\" value=\"\"></el-option>\n          <el-option label=\"减重\" value=\"WEIGHT_LOSS\"></el-option>\n          <el-option label=\"增肌\" value=\"MUSCLE_GAIN\"></el-option>\n          <el-option label=\"维持\" value=\"MAINTENANCE\"></el-option>\n          <el-option label=\"自定义\" value=\"CUSTOM\"></el-option>\n        </el-select>\n        <el-button type=\"primary\" @click=\"searchRecommendations\">搜索</el-button>\n        <el-button type=\"success\" @click=\"generateRecommendation\">生成新推荐</el-button>\n      </div>\n    </div>\n\n    <div class=\"content\">\n      <el-table\n        :data=\"recommendationList\"\n        style=\"width: 100%\"\n        border\n        v-loading=\"loading\"\n      >\n        <el-table-column prop=\"recommendationDate\" label=\"日期\" width=\"120\">\n          <template slot-scope=\"scope\">\n            {{ formatDate(scope.row.recommendationDate) }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"recommendationType\" label=\"类型\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"getTypeTagType(scope.row.recommendationType)\">\n              {{ formatRecommendationType(scope.row.recommendationType) }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"calories\" label=\"热量(千卡)\" width=\"120\"></el-table-column>\n        <el-table-column prop=\"protein\" label=\"蛋白质(克)\" width=\"120\"></el-table-column>\n        <el-table-column prop=\"carbohydrate\" label=\"碳水(克)\" width=\"120\"></el-table-column>\n        <el-table-column prop=\"fat\" label=\"脂肪(克)\" width=\"100\"></el-table-column>\n        <el-table-column prop=\"fiber\" label=\"纤维素(克)\" width=\"120\"></el-table-column>\n        <el-table-column prop=\"sodium\" label=\"钠(毫克)\" width=\"120\"></el-table-column>\n        <el-table-column label=\"操作\" width=\"180\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              @click=\"viewRecommendation(scope.row)\"\n            >查看</el-button>\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              @click=\"deleteRecommendation(scope.row)\"\n            >删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div class=\"pagination\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[10, 20, 30, 50]\"\n          :page-size=\"pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n        ></el-pagination>\n      </div>\n    </div>\n\n    <!-- 查看推荐详情对话框 -->\n    <el-dialog title=\"推荐详情\" :visible.sync=\"detailDialogVisible\" width=\"600px\">\n      <div v-if=\"selectedRecommendation\" class=\"recommendation-detail\">\n        <div class=\"detail-header\">\n          <div class=\"detail-date\">\n            <span class=\"label\">日期:</span>\n            <span class=\"value\">{{ formatDate(selectedRecommendation.recommendationDate) }}</span>\n          </div>\n          <div class=\"detail-type\">\n            <span class=\"label\">类型:</span>\n            <el-tag :type=\"getTypeTagType(selectedRecommendation.recommendationType)\">\n              {{ formatRecommendationType(selectedRecommendation.recommendationType) }}\n            </el-tag>\n          </div>\n        </div>\n\n        <div class=\"user-metrics\">\n          <h4>用户指标</h4>\n          <div class=\"metrics-grid\">\n            <div class=\"metric-item\">\n              <span class=\"label\">姓名:</span>\n              <span class=\"value\">{{ selectedRecommendation.userName }}</span>\n            </div>\n            <div class=\"metric-item\">\n              <span class=\"label\">性别:</span>\n              <span class=\"value\">{{ selectedRecommendation.gender || '未设置' }}</span>\n            </div>\n            <div class=\"metric-item\">\n              <span class=\"label\">年龄:</span>\n              <span class=\"value\">{{ selectedRecommendation.age || '未知' }} 岁</span>\n            </div>\n            <div class=\"metric-item\">\n              <span class=\"label\">身高:</span>\n              <span class=\"value\">{{ selectedRecommendation.height || '未知' }} cm</span>\n            </div>\n            <div class=\"metric-item\">\n              <span class=\"label\">体重:</span>\n              <span class=\"value\">{{ selectedRecommendation.weight || '未知' }} kg</span>\n            </div>\n            <div class=\"metric-item\">\n              <span class=\"label\">BMI:</span>\n              <span class=\"value\">{{ selectedRecommendation.bmi || '未知' }}</span>\n            </div>\n            <div class=\"metric-item\">\n              <span class=\"label\">BMR:</span>\n              <span class=\"value\">{{ selectedRecommendation.bmr || '未知' }} 千卡</span>\n            </div>\n            <div class=\"metric-item\">\n              <span class=\"label\">TDEE:</span>\n              <span class=\"value\">{{ selectedRecommendation.tdee || '未知' }} 千卡</span>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"recommendation-details\">\n          <h4>推荐营养摄入</h4>\n          <div class=\"nutrition-grid\">\n            <div class=\"nutrition-item\">\n              <span class=\"label\">热量:</span>\n              <span class=\"value\">{{ selectedRecommendation.calories }} 千卡</span>\n            </div>\n            <div class=\"nutrition-item\">\n              <span class=\"label\">蛋白质:</span>\n              <span class=\"value\">{{ selectedRecommendation.protein }} 克</span>\n            </div>\n            <div class=\"nutrition-item\">\n              <span class=\"label\">碳水化合物:</span>\n              <span class=\"value\">{{ selectedRecommendation.carbohydrate }} 克</span>\n            </div>\n            <div class=\"nutrition-item\">\n              <span class=\"label\">脂肪:</span>\n              <span class=\"value\">{{ selectedRecommendation.fat }} 克</span>\n            </div>\n            <div class=\"nutrition-item\">\n              <span class=\"label\">纤维素:</span>\n              <span class=\"value\">{{ selectedRecommendation.fiber }} 克</span>\n            </div>\n            <div class=\"nutrition-item\">\n              <span class=\"label\">钠:</span>\n              <span class=\"value\">{{ selectedRecommendation.sodium }} 毫克</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"recommendation-notes\">\n          <h4>备注</h4>\n          <p>{{ selectedRecommendation.notes || '无' }}</p>\n        </div>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"detailDialogVisible = false\">关闭</el-button>\n        <el-button type=\"success\" @click=\"saveAsTarget\">保存为目标</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 生成推荐对话框 -->\n    <el-dialog title=\"营养推荐\" :visible.sync=\"recommendDialogVisible\" width=\"600px\">\n      <div v-if=\"newRecommendation\" class=\"recommendation-content\">\n        <div class=\"user-metrics\">\n          <h4>用户指标</h4>\n          <div class=\"metrics-grid\">\n            <div class=\"metric-item\">\n              <span class=\"label\">BMR:</span>\n              <span class=\"value\">{{ newRecommendation.bmr }} 千卡</span>\n            </div>\n            <div class=\"metric-item\">\n              <span class=\"label\">TDEE:</span>\n              <span class=\"value\">{{ newRecommendation.tdee }} 千卡</span>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"recommendation-details\">\n          <h4>推荐营养摄入</h4>\n          <div class=\"nutrition-grid\">\n            <div class=\"nutrition-item\">\n              <span class=\"label\">热量:</span>\n              <span class=\"value\">{{ newRecommendation.calories }} 千卡</span>\n            </div>\n            <div class=\"nutrition-item\">\n              <span class=\"label\">蛋白质:</span>\n              <span class=\"value\">{{ newRecommendation.protein }} 克</span>\n            </div>\n            <div class=\"nutrition-item\">\n              <span class=\"label\">碳水化合物:</span>\n              <span class=\"value\">{{ newRecommendation.carbohydrate }} 克</span>\n            </div>\n            <div class=\"nutrition-item\">\n              <span class=\"label\">脂肪:</span>\n              <span class=\"value\">{{ newRecommendation.fat }} 克</span>\n            </div>\n            <div class=\"nutrition-item\">\n              <span class=\"label\">纤维素:</span>\n              <span class=\"value\">{{ newRecommendation.fiber }} 克</span>\n            </div>\n            <div class=\"nutrition-item\">\n              <span class=\"label\">钠:</span>\n              <span class=\"value\">{{ newRecommendation.sodium }} 毫克</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"recommendation-notes\">\n          <h4>备注</h4>\n          <p>{{ newRecommendation.notes || '无' }}</p>\n        </div>\n      </div>\n      <div v-else class=\"loading-recommendation\">\n        <p>正在生成推荐...</p>\n        <el-progress :percentage=\"50\" :indeterminate=\"true\"></el-progress>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"recommendDialogVisible = false\">取 消</el-button>\n        <el-button type=\"success\" @click=\"saveNewRecommendationAsTarget\">保存为目标</el-button>\n        <el-button type=\"primary\" @click=\"saveNewRecommendation\">保存到历史</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { queryNutritionRecommendations, getNutritionRecommendationById, deleteNutritionRecommendation, generateNutritionRecommendation, saveNutritionRecommendation, saveNutritionTarget } from '@/api/nutrition';\n\nexport default {\n  name: 'NutritionHistory',\n  data() {\n    return {\n      loading: false,\n      dateRange: null,\n      selectedType: '',\n      recommendationList: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      detailDialogVisible: false,\n      selectedRecommendation: null,\n      recommendDialogVisible: false,\n      newRecommendation: null,\n      queryParams: {\n        startDate: null,\n        endDate: null,\n        recommendationType: null,\n        pageNum: 1,\n        pageSize: 10\n      }\n    };\n  },\n  created() {\n    this.searchRecommendations();\n  },\n  methods: {\n    formatDate(dateStr) {\n      if (!dateStr) return '';\n      const date = new Date(dateStr);\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;\n    },\n    formatRecommendationType(type) {\n      const typeMap = {\n        'WEIGHT_LOSS': '减重',\n        'MUSCLE_GAIN': '增肌',\n        'MAINTENANCE': '维持',\n        'CUSTOM': '自定义'\n      };\n      return typeMap[type] || type;\n    },\n    getTypeTagType(type) {\n      const typeTagMap = {\n        'WEIGHT_LOSS': 'warning',\n        'MUSCLE_GAIN': 'success',\n        'MAINTENANCE': 'info',\n        'CUSTOM': 'primary'\n      };\n      return typeTagMap[type] || '';\n    },\n    handleDateChange() {\n      if (this.dateRange) {\n        this.queryParams.startDate = this.dateRange[0];\n        this.queryParams.endDate = this.dateRange[1];\n      } else {\n        this.queryParams.startDate = null;\n        this.queryParams.endDate = null;\n      }\n    },\n    handleTypeChange() {\n      this.queryParams.recommendationType = this.selectedType || null;\n    },\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.queryParams.pageSize = val;\n      this.searchRecommendations();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.queryParams.pageNum = val;\n      this.searchRecommendations();\n    },\n    async searchRecommendations() {\n      this.loading = true;\n      try {\n        const response = await queryNutritionRecommendations(this.queryParams);\n        if (response.data.code === 200) {\n          this.recommendationList = response.data.data.list;\n          this.total = response.data.data.total;\n        } else {\n          this.$message.error(response.data.msg || '查询失败');\n        }\n      } catch (error) {\n        console.error('查询营养推荐历史失败:', error);\n        this.$message.error('查询营养推荐历史失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n    async viewRecommendation(row) {\n      try {\n        const response = await getNutritionRecommendationById(row.id);\n        if (response.data.code === 200) {\n          this.selectedRecommendation = response.data.data;\n          this.detailDialogVisible = true;\n        } else {\n          this.$message.error(response.data.msg || '获取详情失败');\n        }\n      } catch (error) {\n        console.error('获取营养推荐详情失败:', error);\n        this.$message.error('获取营养推荐详情失败');\n      }\n    },\n    async deleteRecommendation(row) {\n      try {\n        await this.$confirm('此操作将永久删除该推荐记录, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        });\n        \n        const response = await deleteNutritionRecommendation(row.id);\n        if (response.data.code === 200) {\n          this.$message.success('删除成功');\n          this.searchRecommendations();\n        } else {\n          this.$message.error(response.data.msg || '删除失败');\n        }\n      } catch (error) {\n        if (error !== 'cancel') {\n          console.error('删除营养推荐失败:', error);\n          this.$message.error('删除营养推荐失败');\n        }\n      }\n    },\n    async generateRecommendation() {\n      this.recommendDialogVisible = true;\n      this.newRecommendation = null;\n      \n      try {\n        const response = await generateNutritionRecommendation();\n        if (response.data.code === 200) {\n          this.newRecommendation = response.data.data;\n        } else {\n          this.$message.error(response.data.msg || '生成推荐失败');\n          this.recommendDialogVisible = false;\n        }\n      } catch (error) {\n        console.error('生成营养推荐失败:', error);\n        this.$message.error('生成营养推荐失败');\n        this.recommendDialogVisible = false;\n      }\n    },\n    async saveNewRecommendation() {\n      if (!this.newRecommendation) return;\n      \n      try {\n        const response = await saveNutritionRecommendation(this.newRecommendation);\n        if (response.data.code === 200) {\n          this.$message.success('保存到推荐历史成功');\n          this.recommendDialogVisible = false;\n          this.searchRecommendations();\n        } else {\n          this.$message.error(response.data.msg || '保存失败');\n        }\n      } catch (error) {\n        console.error('保存到推荐历史失败:', error);\n        this.$message.error('保存到推荐历史失败');\n      }\n    },\n    async saveNewRecommendationAsTarget() {\n      if (!this.newRecommendation) return;\n      \n      try {\n        const targetData = {\n          calories: this.newRecommendation.calories,\n          protein: this.newRecommendation.protein,\n          carbohydrate: this.newRecommendation.carbohydrate,\n          fat: this.newRecommendation.fat,\n          fiber: this.newRecommendation.fiber,\n          sodium: this.newRecommendation.sodium\n        };\n        \n        const response = await saveNutritionTarget(targetData);\n        if (response.data.code === 200) {\n          this.$message.success('保存为营养目标成功');\n          this.recommendDialogVisible = false;\n        } else {\n          this.$message.error(response.data.msg || '保存失败');\n        }\n      } catch (error) {\n        console.error('保存为营养目标失败:', error);\n        this.$message.error('保存为营养目标失败');\n      }\n    },\n    async saveAsTarget() {\n      if (!this.selectedRecommendation) return;\n      \n      try {\n        const targetData = {\n          calories: this.selectedRecommendation.calories,\n          protein: this.selectedRecommendation.protein,\n          carbohydrate: this.selectedRecommendation.carbohydrate,\n          fat: this.selectedRecommendation.fat,\n          fiber: this.selectedRecommendation.fiber,\n          sodium: this.selectedRecommendation.sodium\n        };\n        \n        const response = await saveNutritionTarget(targetData);\n        if (response.data.code === 200) {\n          this.$message.success('保存为营养目标成功');\n          this.detailDialogVisible = false;\n        } else {\n          this.$message.error(response.data.msg || '保存失败');\n        }\n      } catch (error) {\n        console.error('保存为营养目标失败:', error);\n        this.$message.error('保存为营养目标失败');\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.nutrition-history {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 20px;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.search-bar {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n}\n\n.content {\n  background-color: white;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.pagination {\n  margin-top: 20px;\n  text-align: right;\n}\n\n.recommendation-detail {\n  padding: 10px;\n}\n\n.detail-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #eee;\n}\n\n.user-metrics,\n.recommendation-details,\n.recommendation-notes {\n  margin-bottom: 20px;\n}\n\n.metrics-grid,\n.nutrition-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 15px;\n}\n\n.metric-item,\n.nutrition-item {\n  display: flex;\n  flex-direction: column;\n}\n\n.label {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 5px;\n}\n\n.value {\n  font-size: 16px;\n  font-weight: 500;\n  color: #333;\n}\n\nh4 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  color: #333;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 5px;\n}\n\n.loading-recommendation {\n  text-align: center;\n  padding: 20px 0;\n}\n\n.recommendation-notes p {\n  white-space: pre-line;\n  color: #666;\n}\n</style>"],"sourceRoot":"src/views/user"}]}