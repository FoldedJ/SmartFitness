{"remainingRequest":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\SmartFitness\\smart-fitness-view\\src\\views\\user\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\SmartFitness\\smart-fitness-view\\src\\views\\user\\Main.vue","mtime":1748086671634},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1748086666483},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1748086666194},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1748086666483},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1748086671258}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBjbGVhclRva2VuIH0gZnJvbSAiQC91dGlscy9zdG9yYWdlLmpzIjsNCmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOw0KaW1wb3J0IFVzZXJNZW51IGZyb20gJ0AvY29tcG9uZW50cy9MZXZlbE1lbnUudnVlJzsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAiVXNlck1haW4iLA0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgVXNlck1lbnUNCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICB1c2VySW5mbzoge30sDQogICAgICAgICAgICBkYXRhOiB7fSwNCiAgICAgICAgICAgIHB3ZEVudGl0eTogeyBvbGRQd2Q6ICcnLCBuZXdQd2Q6ICcnLCBhZ2FpblB3ZDogJycgfSwNCiAgICAgICAgICAgIGRpYWxvZ09wZXJhaW9uOiBmYWxzZSwNCiAgICAgICAgICAgIGRpYWxvZ1JldFB3ZE9wZXJhaW9uOiBmYWxzZSwNCiAgICAgICAgICAgIGZvb2RMaXN0OiBbXSwNCiAgICAgICAgICAgIHJvdXRlcnM6IFtdLA0KICAgICAgICAgICAgaXNDaGVja0Zvb2Q6IFtdLA0KICAgICAgICAgICAgaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnOiBbXSwNCiAgICAgICAgICAgIGhlYWx0aE1vZGVsQ29uZmlnOiBbXSwNCiAgICAgICAgICAgIHNlbGVjZWRGb29kSW5kZXg6IDAsDQogICAgICAgICAgICBzZWxlY2VkSGVhbHRoTW9kZWxJbmRleDogMCwNCiAgICAgICAgICAgIGRpZXREaWFsb2c6IGZhbHNlLA0KICAgICAgICAgICAgaGVhbHRoTW9kZWxDb25maWdEaWFsb2c6IGZhbHNlDQogICAgICAgIH07DQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLnRva2VuQ2hlY2tMb2FkKCk7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGhlYWx0aE1vZGVsQ2hhbmdlKCkgew0KICAgICAgICAgICAgY29uc3QgaGVhbHRoTW9kZWwgPSB0aGlzLmhlYWx0aE1vZGVsQ29uZmlnW3RoaXMuc2VsZWNlZEhlYWx0aE1vZGVsSW5kZXggLSAyXTsNCiAgICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IHRoaXMuaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnLnNvbWUoaXRlbSA9PiBpdGVtLmlkID09PSBoZWFsdGhNb2RlbC5pZCk7DQogICAgICAgICAgICAvLyDlpoLmnpzkuI3lrZjlnKjvvIzliJnmt7vliqDmlrDpgInnmoTlgaXlurfphY3nva7pobkNCiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc0NoZWNrSGVhbHRoTW9kZWxDb25maWcudW5zaGlmdChoZWFsdGhNb2RlbCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmjIfmoIfpobnlt7Lnu4/mt7vliqAiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgdXBkYXRlVXNlclB3ZCgpIHsNCiAgICAgICAgICAgIHRoaXMucmVzZXRQd2QoKTsNCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgdXBkYXRlVXNlckluZm8oKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJVcGRhdGVEVE8gPSB7DQogICAgICAgICAgICAgICAgICAgIHVzZXJBdmF0YXI6IHRoaXMuZGF0YS51cmwsDQogICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiB0aGlzLmRhdGEubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiB0aGlzLmRhdGEuZW1haWwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9zbmUgPSBhd2FpdCB0aGlzLiRheGlvcy5wdXQoYC91c2VyL3VwZGF0ZWAsIHVzZXJVcGRhdGVEVE8pOw0KICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9zbmU7DQogICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nT3BlcmFpb24gPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2tlbkNoZWNrTG9hZCgpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkv67mlLnkuKrkurrkv6Hmga8nLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZGF0YS5tc2csDQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTAwMCwNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nT3BlcmFpb24gPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S/ruaUueS4quS6uuS/oeaBr+W8guW4uCcsDQogICAgICAgICAgICAgICAgICAgIHRleHQ6IGUsDQogICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg5L+u5pS55Liq5Lq65L+h5oGv5byC5bi4OiR7ZX1gKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgcmVzZXRQd2QoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHsgb2xkUHdkLCBuZXdQd2QsIGFnYWluUHdkIH0gPSB0aGlzLnB3ZEVudGl0eTsNCiAgICAgICAgICAgICAgICBpZiAoIW9sZFB3ZCB8fCAhbmV3UHdkIHx8ICFhZ2FpblB3ZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKGDku7vmhI/pobnkuI3kuLrnqbpgKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobmV3UHdkICE9PSBhZ2FpblB3ZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKGDliY3lkI7lr4bnoIHovpPlhaXkuI3kuIDoh7RgKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCBwd2REVE8gPSB7DQogICAgICAgICAgICAgICAgICAgIG9sZFB3ZDogdGhpcy4kbWQ1KHRoaXMuJG1kNShvbGRQd2QpKSwNCiAgICAgICAgICAgICAgICAgICAgbmV3UHdkOiB0aGlzLiRtZDUodGhpcy4kbWQ1KG5ld1B3ZCkpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3Bvc25lID0gYXdhaXQgdGhpcy4kYXhpb3MucHV0KGAvdXNlci91cGRhdGVQd2RgLCBwd2REVE8pOw0KICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9zbmU7DQogICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nUmV0UHdkT3BlcmFpb24gPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5L+u5pS55a+G56CBJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGRhdGEubXNnLA0KICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDEwMDAsDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVG9rZW4oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvbG9naW5gKTsNCiAgICAgICAgICAgICAgICAgICAgfSwgMTIwMCkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dPcGVyYWlvbiA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuJGVycm9yKGRhdGEubXNnKTsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDkv67mlLnlr4bnoIHlvILluLg6JHtlfWApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVBdmF0YXJTdWNjZXNzKHJlcywgZmlsZSkgew0KICAgICAgICAgICAgaWYgKHJlcy5jb2RlICE9PSAyMDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGDlpLTlg4/kuIrkvKDlvILluLhgKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoYOWktOWDj+S4iuS8oOaIkOWKn2ApOw0KICAgICAgICAgICAgdGhpcy5kYXRhLnVybCA9IHJlcy5kYXRhOw0KICAgICAgICB9LA0KICAgICAgICAvLyDnm5HlkKzoj5zljZXngrnlh7vkuovku7YNCiAgICAgICAgZXZlbnRMaXN0ZW5lcihldmVudCkgew0KICAgICAgICAgICAgLy8g5Liq5Lq65Lit5b+DDQogICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdjZW50ZXInKSB7DQogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dPcGVyYWlvbiA9ICF0aGlzLmRpYWxvZ09wZXJhaW9uOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8g5a+G56CB6YeN572uDQogICAgICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ3Jlc2V0UHdkJykgew0KICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nUmV0UHdkT3BlcmFpb24gPSB0cnVlOw0KICAgICAgICAgICAgICAgIC8vIOaQnOe0oumhteaQnOe0og0KICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ3NlYXJjaC1kZXRhaWwnKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zZWFyY2gtZGV0YWlsJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyDpgIDlh7rnmbvlvZUNCiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnbG9naW5PdXQnKSB7DQogICAgICAgICAgICAgICAgdGhpcy5sb2dpbk91dE9wZXJhdGlvbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8g5YGl5bq35oyH5qCH6K6w5b2VDQogICAgICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ2hlYWx0aERhdGFSZWNvcmQnKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9yZWNvcmQnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgcmVtb3ZlRm9vZChmb29kKSB7DQogICAgICAgICAgICAvLyDmuIXnqbrovpPlhaXpobkNCiAgICAgICAgICAgIGZvb2QubWdWYWx1ZSA9ICcnOw0KICAgICAgICAgICAgdGhpcy5pc0NoZWNrRm9vZCA9IHRoaXMuaXNDaGVja0Zvb2QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gZm9vZC5pZCk7DQogICAgICAgIH0sDQogICAgICAgIHJlbW92ZUhlYWx0aE1vZGVsKGhlYWx0aE1vZGVsKSB7DQogICAgICAgICAgICAvLyDmuIXnqbrovpPlhaXpobkNCiAgICAgICAgICAgIGhlYWx0aE1vZGVsLmlucHV0ID0gJyc7DQogICAgICAgICAgICB0aGlzLmlzQ2hlY2tIZWFsdGhNb2RlbENvbmZpZyA9IHRoaXMuaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IGhlYWx0aE1vZGVsLmlkKTsNCiAgICAgICAgfSwNCiAgICAgICAgZm9vZENoYW5nZSgpIHsNCiAgICAgICAgICAgIGNvbnN0IGZvb2QgPSB0aGlzLmZvb2RMaXN0W3RoaXMuc2VsZWNlZEZvb2RJbmRleCAtIDFdOw0KICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gdGhpcy5pc0NoZWNrRm9vZC5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gZm9vZC5pZCk7DQogICAgICAgICAgICAvLyDlpoLmnpzkuI3lrZjlnKjvvIzliJnmt7vliqDmlrDpgInnmoToj5zljZUNCiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc0NoZWNrRm9vZC51bnNoaWZ0KGZvb2QpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi6I+c6LCx5bey57uP5re75YqgIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vIOaPkOS6pOmlrumjn+iusOW9lQ0KICAgICAgICBhc3luYyBhZGRVc2VySGVhbHRoSGlzdG9yeSgpIHsNCiAgICAgICAgICAgIGNvbnN0IGhlYWx0aE1vZGVscyA9IHRoaXMuaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnLm1hcChlbnRpdHkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIGhlYWx0aE1vZGVsSWQ6IGVudGl0eS5pZCwNCiAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZTogZW50aXR5LmlucHV0DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdChgL3VzZXItaGVhbHRoL3NhdmVgLCBoZWFsdGhNb2RlbHMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7DQogICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhbHRoTW9kZWxDb25maWdEaWFsb2cgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoZWNrSGVhbHRoTW9kZWxDb25maWcgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6K6w5b2V5YGl5bq35oyH5qCHJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICforrDlvZXmiJDlip8nLA0KICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDE1MDAsDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDorrDlvZXlgaXlurfmjIfmoIflvILluLhgLCBlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8g5o+Q5Lqk6aWu6aOf6K6w5b2VDQogICAgICAgIGFzeW5jIGFkZERpZXRIaXN0b3J5KCkgew0KICAgICAgICAgICAgY29uc3QgZm9vZElkcyA9IHRoaXMuaXNDaGVja0Zvb2QubWFwKGVudGl0eSA9PiBlbnRpdHkuaWQpLmpvaW4oIiwiKTsNCiAgICAgICAgICAgIGNvbnN0IGZvb2ROdW0gPSB0aGlzLmlzQ2hlY2tGb29kLm1hcChlbnRpdHkgPT4gZW50aXR5Lm1nVmFsdWUpLmpvaW4oIiwiKTsNCiAgICAgICAgICAgIGNvbnN0IGRpZXQgPSB7DQogICAgICAgICAgICAgICAgZm9vZElkczogZm9vZElkcywNCiAgICAgICAgICAgICAgICBmb29kTnVtOiBmb29kTnVtDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdChgL2RpZXQvc2F2ZWAsIGRpZXQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7DQogICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlldERpYWxvZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hlY2tGb29kID0gW107DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+iusOW9lemlrumjn++8jOaLpeaKseeUn+a0uycsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLm1zZywNCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxNTAwLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg6aWu6aOf5paw5aKe5byC5bi477yaYCwgZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIGxvYWRIZWFsdGhNb2RlbENvbmZpZ0xpc3QoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdChgL2hlYWx0aC1tb2RlbC1jb25maWcvbGlzdGAsIHt9KTsNCiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgICAgIHRoaXMuaGVhbHRoTW9kZWxDb25maWcgPSBkYXRhLmRhdGE7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg5p+l6K+i5YGl5bq36YWN572u5byC5bi477yaYCwgZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIGxvYWRGb29kTGlzdCgpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KGAvZm9vZC9saXN0YCwge30pOw0KICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7DQogICAgICAgICAgICAgICAgdGhpcy5mb29kTGlzdCA9IGRhdGEuZGF0YTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDmn6Xor6Lppa7po5/phY3nva7lvILluLjvvJpgLCBlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgbG9naW5PdXRPcGVyYXRpb24oKSB7DQogICAgICAgICAgICBjb25zdCBjb25maXJtZWQgPSBhd2FpdCB0aGlzLiRzd2FsQ29uZmlybSh7DQogICAgICAgICAgICAgICAgdGl0bGU6ICfpgIDlh7rnmbvlvZUnLA0KICAgICAgICAgICAgICAgIHRleHQ6IGDpgIDlh7rnmbvlvZXlkI7vvIzpnIDph43mlrDnmbvlvZXmiY3og73kvb/nlKjns7vnu5/lip/og70hYCwNCiAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmIChjb25maXJtZWQpIHsgLy8g5riF6ZmkVG9rZW7vvIzot6/nlLHoh7PnmbvlvZXpobUNCiAgICAgICAgICAgICAgICBjbGVhclRva2VuKCk7DQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvLyBUb2tlbuajgOmqjA0KICAgICAgICBhc3luYyB0b2tlbkNoZWNrTG9hZCgpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCd1c2VyL2F1dGgnKTsNCiAgICAgICAgICAgICAgICAvLyDmoKHpqozlpLHotKUNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gNDAwKSB7DQogICAgICAgICAgICAgICAgICAgIGNsZWFyVG9rZW4oKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZDogdXNlcklkLCB1c2VyQXZhdGFyLCB1c2VyTmFtZSwgdXNlclJvbGUsIHVzZXJFbWFpbCB9ID0gcmVzLmRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICAvLyDlsIbnlKjmiLfkv6Hmga/lrZjlgqjotbfmnaUNCiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VySW5mbycsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLmRhdGEpKTsNCiAgICAgICAgICAgICAgICB0aGlzLnVzZXJJbmZvID0gew0KICAgICAgICAgICAgICAgICAgICB1cmw6IHVzZXJBdmF0YXIsDQogICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXJOYW1lLA0KICAgICAgICAgICAgICAgICAgICByb2xlOiB1c2VyUm9sZSwNCiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJFbWFpbA0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgdGhpcy5kYXRhID0geyAuLi50aGlzLnVzZXJJbmZvIH07DQogICAgICAgICAgICAgICAgLy8g5qC55o2u6KeS6Imy6Kej5p6Q6Lev55SxDQogICAgICAgICAgICAgICAgY29uc3Qgcm9sZVJvdXRlS2V5ID0gdXNlclJvbGUgPT09IDEgPyAnYWRtaW4nIDogJ3VzZXInOw0KICAgICAgICAgICAgICAgIGNvbnN0IHJvbGVSb3V0ZSA9IHJvdXRlci5vcHRpb25zLnJvdXRlcy5maW5kKHJvdXRlID0+IHJvdXRlLnBhdGguc3RhcnRzV2l0aChgLyR7cm9sZVJvdXRlS2V5fWApKTsNCiAgICAgICAgICAgICAgICBpZiAocm9sZVJvdXRlKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucm91dGVycyA9IHJvbGVSb3V0ZS5jaGlsZHJlbjsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmnKrog73mib7liLDlr7nlupTop5LoibLnmoTot6/nlLHphY3nva4nKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2Vu5qOA6aqM5pe25Y+R55Sf6ZSZ6K+vOicsIGVycm9yKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQp9Ow0K"},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n    <div class=\"user-container\">\r\n        <div class=\"menus-container\"\r\n            style=\"position: sticky;top: 0;z-index: 1000;background-color: rgb(255, 255, 255);\">\r\n            <UserMenu :menus=\"routers\" :userInfo=\"userInfo\" @eventListener=\"eventListener\" />\r\n        </div>\r\n        <div class=\"content-container\">\r\n            <router-view class=\"route-container\"></router-view>\r\n        </div>\r\n        <!-- 个人中心 -->\r\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogOperaion\" width=\"26%\">\r\n            <div slot=\"title\" style=\"padding: 25px 0 0 20px;\">\r\n                <span style=\"font-size: 18px;font-weight: 800;\">个人中心</span>\r\n            </div>\r\n            <el-row style=\"padding: 10px 20px 20px 20px;\">\r\n                <el-row>\r\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\r\n                        <span class=\"modelName\">*头像</span>\r\n                    </p>\r\n                    <el-upload class=\"avatar-uploader\" action=\"http://localhost:21090/api/personal-heath/v1.0/file/upload\"\r\n                        :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\">\r\n                        <img v-if=\"data.url\" :src=\"data.url\" class=\"avatar\">\r\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                    </el-upload>\r\n                </el-row>\r\n                <el-row>\r\n                    <p style=\"font-size: 12px;padding: 3px 0;\">\r\n                        <span class=\"modelName\">*用户名</span>\r\n                    </p>\r\n                    <input class=\"modelInput\" type=\"text\" v-model=\"data.name\" placeholder=\"用户名\">\r\n                </el-row>\r\n                <el-row>\r\n                    <p style=\"font-size: 12px;padding: 3px 0;\">\r\n                        <span class=\"modelName\">*个人邮箱</span>\r\n                    </p>\r\n                    <input class=\"modelInput\" type=\"text\" v-model=\"data.email\" placeholder=\"个人邮箱\">\r\n                </el-row>\r\n            </el-row>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button class=\"customer\" size=\"small\" style=\"background-color: rgb(241, 241, 241);border: none;\"\r\n                    @click=\"dialogOperaion = false\">取 消</el-button>\r\n                <el-button size=\"small\" style=\"background-color: #15559a;border: none;\" class=\"customer\" type=\"info\"\r\n                    @click=\"updateUserInfo\">修改</el-button>\r\n            </span>\r\n        </el-dialog>\r\n        <!-- 重置密码 -->\r\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogRetPwdOperaion\" width=\"26%\">\r\n            <div slot=\"title\" style=\"padding: 25px 0 0 20px;\">\r\n                <span style=\"font-size: 18px;font-weight: 800;\">重置密码</span>\r\n            </div>\r\n            <el-row style=\"padding: 10px 20px 20px 20px;\">\r\n                <el-row>\r\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\r\n                        <span class=\"modelName\">*原始密码</span>\r\n                    </p>\r\n                    <input class=\"modelInput\" type=\"password\" v-model=\"pwdEntity.oldPwd\" placeholder=\"原始密码\">\r\n                </el-row>\r\n                <el-row>\r\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\r\n                        <span class=\"modelName\">*新密码</span>\r\n                    </p>\r\n                    <input class=\"modelInput\" type=\"password\" v-model=\"pwdEntity.newPwd\" placeholder=\"新密码\">\r\n                </el-row>\r\n                <el-row>\r\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\r\n                        <span class=\"modelName\">*确认密码</span>\r\n                    </p>\r\n                    <input class=\"modelInput\" type=\"password\" v-model=\"pwdEntity.againPwd\" placeholder=\"确认密码\">\r\n                </el-row>\r\n            </el-row>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button class=\"customer\" size=\"small\" style=\"background-color: rgb(241, 241, 241);border: none;\"\r\n                    @click=\"dialogRetPwdOperaion = false\">取 消</el-button>\r\n                <el-button size=\"small\" style=\"background-color: #15559a;border: none;\" class=\"customer\" type=\"info\"\r\n                    @click=\"updateUserPwd\">修改</el-button>\r\n            </span>\r\n        </el-dialog>\r\n            <div style=\"padding: 10px 20px;\">\r\n                <el-row v-for=\"(checkFood, index) in isCheckFood\" :key=\"index\">\r\n                    <el-col :span=\"10\">\r\n                        <img style=\"width: 100%;height: 100px;border-radius: 5px;\" :src=\"checkFood.cover\" />\r\n                    </el-col>\r\n                    <el-col :span=\"14\" style=\"padding: 0 20px;\">\r\n                        <div>\r\n                            <input class=\"modelInput\" type=\"text\" v-model=\"checkFood.mgValue\" placeholder=\"克数\">\r\n                            <span>克</span>\r\n                        </div>\r\n                        <div style=\"margin: 10px 5px;\">\r\n                            <div style=\"font-size: 16px;\">\r\n                                <span>{{ checkFood.name }} - {{ checkFood.tag }}</span>\r\n                            </div>\r\n                            <div style=\"margin-top: 6px;\">\r\n                                <span class=\"removeFood\" @click=\"removeFood(checkFood)\">\r\n                                    <i class=\"el-icon-circle-close\"></i>\r\n                                    移除\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </el-col>\r\n                </el-row>\r\n            </div>\r\n        </el-dialog>\r\n        <!-- 记录健康指标 -->\r\n        <el-dialog :visible.sync=\"healthModelConfigDialog\" width=\"28%\" :show-close=\"false\">\r\n            <div slot=\"title\">\r\n                <p style=\"color: rgba(0, 1, 4, 0.8);margin: 0;padding: 20px;font-size: 18px;font-weight: 600;\">\r\n                    记录健康指标</p>\r\n            </div>\r\n            <div style=\"padding: 10px 20px;\">\r\n                <el-row>\r\n                    <el-col :span=\"6\">\r\n                        <span @click=\"addUserHealthHistory\"\r\n                            style=\"margin-top: 10px;display: inline-block;color: white;background-color: #15559a;padding: 5px 8px;border-radius: 3px;font-size: 12px;\">\r\n                            <i class=\"el-icon-circle-plus\"></i>\r\n                            确认提交\r\n                        </span>\r\n                    </el-col>\r\n                    <el-col :span=\"18\">\r\n                        <label for=\"nutrition-select\">选择健康指标</label>\r\n                        <select id=\"nutrition-select\" v-model=\"selecedHealthModelIndex\" @change=\"healthModelChange\">\r\n                            <option v-for=\"option in healthModelConfig\" :key=\"option.modelName\" :value=\"option.id\">\r\n                                {{ option.modelName }}\r\n                            </option>\r\n                        </select>\r\n                    </el-col>\r\n                </el-row>\r\n            </div>\r\n            <div style=\"padding: 10px 20px;\">\r\n                <el-row v-for=\"(healthModel, index) in isCheckHealthModelConfig\" :key=\"index\"\r\n                    style=\"border-bottom: 1px solid #f1f1f1;padding: 15px 0;\">\r\n                    <el-col :span=\"4\">\r\n                        <img style=\"width: 90%;height: 60px;border-radius: 5px;margin-top: 26px;\"\r\n                            :src=\"healthModel.modelIcon\" />\r\n                    </el-col>\r\n                    <el-col :span=\"20\" style=\"padding: 0 20px;\">\r\n                        <div>\r\n                            <input class=\"modelInput\" type=\"text\" v-model=\"healthModel.input\" placeholder=\"数值\">\r\n                            <span>{{ healthModel.modelUnit }}</span>\r\n                        </div>\r\n                        <div style=\"margin: 10px 5px;\">\r\n                            <div style=\"font-size: 16px;\">\r\n                                <span>{{ healthModel.modelName }} - {{ healthModel.modelSymbol }}</span>\r\n                            </div>\r\n                            <div style=\"margin-top: 6px;\">\r\n                                <span class=\"removeFood\" @click=\"removeHealthModel(healthModel)\">\r\n                                    <i class=\"el-icon-circle-close\"></i>\r\n                                    移除\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </el-col>\r\n                </el-row>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { clearToken } from \"@/utils/storage.js\";\r\nimport router from \"@/router\";\r\nimport UserMenu from '@/components/LevelMenu.vue';\r\nexport default {\r\n    name: \"UserMain\",\r\n    components: {\r\n        UserMenu\r\n    },\r\n    data() {\r\n        return {\r\n            userInfo: {},\r\n            data: {},\r\n            pwdEntity: { oldPwd: '', newPwd: '', againPwd: '' },\r\n            dialogOperaion: false,\r\n            dialogRetPwdOperaion: false,\r\n            foodList: [],\r\n            routers: [],\r\n            isCheckFood: [],\r\n            isCheckHealthModelConfig: [],\r\n            healthModelConfig: [],\r\n            selecedFoodIndex: 0,\r\n            selecedHealthModelIndex: 0,\r\n            dietDialog: false,\r\n            healthModelConfigDialog: false\r\n        };\r\n    },\r\n    created() {\r\n        this.tokenCheckLoad();\r\n    },\r\n    methods: {\r\n        healthModelChange() {\r\n            const healthModel = this.healthModelConfig[this.selecedHealthModelIndex - 2];\r\n            const exists = this.isCheckHealthModelConfig.some(item => item.id === healthModel.id);\r\n            // 如果不存在，则添加新选的健康配置项\r\n            if (!exists) {\r\n                this.isCheckHealthModelConfig.unshift(healthModel);\r\n            } else {\r\n                console.log(\"指标项已经添加\");\r\n            }\r\n        },\r\n        updateUserPwd() {\r\n            this.resetPwd();\r\n        },\r\n        async updateUserInfo() {\r\n            try {\r\n                const userUpdateDTO = {\r\n                    userAvatar: this.data.url,\r\n                    userName: this.data.name,\r\n                    userEmail: this.data.email\r\n                }\r\n                const resposne = await this.$axios.put(`/user/update`, userUpdateDTO);\r\n                const { data } = resposne;\r\n                if (data.code === 200) {\r\n                    this.dialogOperaion = false;\r\n                    this.tokenCheckLoad();\r\n                    this.$swal.fire({\r\n                        title: '修改个人信息',\r\n                        text: data.msg,\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1000,\r\n                    });\r\n                }\r\n            } catch (e) {\r\n                this.dialogOperaion = false;\r\n                this.$swal.fire({\r\n                    title: '修改个人信息异常',\r\n                    text: e,\r\n                    icon: 'error',\r\n                    showConfirmButton: false,\r\n                    timer: 2000,\r\n                });\r\n                console.error(`修改个人信息异常:${e}`);\r\n            }\r\n        },\r\n        async resetPwd() {\r\n            try {\r\n                const { oldPwd, newPwd, againPwd } = this.pwdEntity;\r\n                if (!oldPwd || !newPwd || !againPwd) {\r\n                    this.$message(`任意项不为空`);\r\n                    return;\r\n                }\r\n                if (newPwd !== againPwd) {\r\n                    this.$message(`前后密码输入不一致`);\r\n                    return;\r\n                }\r\n                const pwdDTO = {\r\n                    oldPwd: this.$md5(this.$md5(oldPwd)),\r\n                    newPwd: this.$md5(this.$md5(newPwd))\r\n                }\r\n                const resposne = await this.$axios.put(`/user/updatePwd`, pwdDTO);\r\n                const { data } = resposne;\r\n                if (data.code === 200) {\r\n                    this.dialogRetPwdOperaion = false;\r\n                    this.$swal.fire({\r\n                        title: '修改密码',\r\n                        text: data.msg,\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1000,\r\n                    });\r\n                    setTimeout(() => {\r\n                        clearToken();\r\n                        this.$router.push(`/login`);\r\n                    }, 1200)\r\n                } else {\r\n                    this.$message.error(data.msg);\r\n                }\r\n            } catch (e) {\r\n                this.dialogOperaion = false;\r\n                this.$error(data.msg);\r\n                console.error(`修改密码异常:${e}`);\r\n            }\r\n        },\r\n        handleAvatarSuccess(res, file) {\r\n            if (res.code !== 200) {\r\n                this.$message.error(`头像上传异常`);\r\n                return;\r\n            }\r\n            this.$message.success(`头像上传成功`);\r\n            this.data.url = res.data;\r\n        },\r\n        // 监听菜单点击事件\r\n        eventListener(event) {\r\n            // 个人中心\r\n            if (event === 'center') {\r\n                this.dialogOperaion = !this.dialogOperaion;\r\n            }\r\n            // 密码重置\r\n            else if (event === 'resetPwd') {\r\n                this.dialogRetPwdOperaion = true;\r\n                // 搜索页搜索\r\n            } else if (event === 'search-detail') {\r\n                this.$router.push('/search-detail');\r\n            }\r\n            // 退出登录\r\n            else if (event === 'loginOut') {\r\n                this.loginOutOperation();\r\n            }\r\n            // 健康指标记录\r\n            else if (event === 'healthDataRecord') {\r\n                this.$router.push('/record');\r\n            }\r\n        },\r\n        removeFood(food) {\r\n            // 清空输入项\r\n            food.mgValue = '';\r\n            this.isCheckFood = this.isCheckFood.filter(item => item.id !== food.id);\r\n        },\r\n        removeHealthModel(healthModel) {\r\n            // 清空输入项\r\n            healthModel.input = '';\r\n            this.isCheckHealthModelConfig = this.isCheckHealthModelConfig.filter(item => item.id !== healthModel.id);\r\n        },\r\n        foodChange() {\r\n            const food = this.foodList[this.selecedFoodIndex - 1];\r\n            const exists = this.isCheckFood.some(item => item.id === food.id);\r\n            // 如果不存在，则添加新选的菜单\r\n            if (!exists) {\r\n                this.isCheckFood.unshift(food);\r\n            } else {\r\n                console.log(\"菜谱已经添加\");\r\n            }\r\n        },\r\n        // 提交饮食记录\r\n        async addUserHealthHistory() {\r\n            const healthModels = this.isCheckHealthModelConfig.map(entity => {\r\n                return {\r\n                    healthModelId: entity.id,\r\n                    inputValue: entity.input\r\n                }\r\n            });\r\n            try {\r\n                const response = await this.$axios.post(`/user-health/save`, healthModels);\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.healthModelConfigDialog = false;\r\n                    this.isCheckHealthModelConfig = [];\r\n                    this.$swal.fire({\r\n                        title: '记录健康指标',\r\n                        text: '记录成功',\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1500,\r\n                    });\r\n                }\r\n            } catch (e) {\r\n                console.error(`记录健康指标异常`, e);\r\n            }\r\n        },\r\n        // 提交饮食记录\r\n        async addDietHistory() {\r\n            const foodIds = this.isCheckFood.map(entity => entity.id).join(\",\");\r\n            const foodNum = this.isCheckFood.map(entity => entity.mgValue).join(\",\");\r\n            const diet = {\r\n                foodIds: foodIds,\r\n                foodNum: foodNum\r\n            }\r\n            try {\r\n                const response = await this.$axios.post(`/diet/save`, diet);\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.dietDialog = false;\r\n                    this.isCheckFood = [];\r\n                    this.$swal.fire({\r\n                        title: '记录饮食，拥抱生活',\r\n                        text: data.msg,\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1500,\r\n                    });\r\n                }\r\n            } catch (e) {\r\n                console.error(`饮食新增异常：`, e);\r\n            }\r\n        },\r\n        async loadHealthModelConfigList() {\r\n            try {\r\n                const response = await this.$axios.post(`/health-model-config/list`, {});\r\n                const { data } = response;\r\n                this.healthModelConfig = data.data;\r\n            } catch (e) {\r\n                console.error(`查询健康配置异常：`, e);\r\n            }\r\n        },\r\n        async loadFoodList() {\r\n            try {\r\n                const response = await this.$axios.post(`/food/list`, {});\r\n                const { data } = response;\r\n                this.foodList = data.data;\r\n            } catch (e) {\r\n                console.error(`查询饮食配置异常：`, e);\r\n            }\r\n        },\r\n        async loginOutOperation() {\r\n            const confirmed = await this.$swalConfirm({\r\n                title: '退出登录',\r\n                text: `退出登录后，需重新登录才能使用系统功能!`,\r\n                icon: 'warning',\r\n            });\r\n            if (confirmed) { // 清除Token，路由至登录页\r\n                clearToken();\r\n                this.$router.push('/login');\r\n            }\r\n        },\r\n        // Token检验\r\n        async tokenCheckLoad() {\r\n            try {\r\n                const res = await this.$axios.get('user/auth');\r\n                // 校验失败\r\n                if (res.data.code === 400) {\r\n                    clearToken();\r\n                    this.$message.error(res.data.msg);\r\n                    this.$router.push('/login');\r\n                    return;\r\n                }\r\n                const { id: userId, userAvatar, userName, userRole, userEmail } = res.data.data;\r\n                // 将用户信息存储起来\r\n                sessionStorage.setItem('userInfo', JSON.stringify(res.data.data));\r\n                this.userInfo = {\r\n                    url: userAvatar,\r\n                    name: userName,\r\n                    role: userRole,\r\n                    email: userEmail\r\n                };\r\n                this.data = { ...this.userInfo };\r\n                // 根据角色解析路由\r\n                const roleRouteKey = userRole === 1 ? 'admin' : 'user';\r\n                const roleRoute = router.options.routes.find(route => route.path.startsWith(`/${roleRouteKey}`));\r\n                if (roleRoute) {\r\n                    this.routers = roleRoute.children;\r\n                } else {\r\n                    console.error('未能找到对应角色的路由配置');\r\n                }\r\n            } catch (error) {\r\n                console.error('Token检验时发生错误:', error);\r\n            }\r\n        }\r\n    },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n#nutrition-select {\r\n    margin: 10px;\r\n    padding: 5px;\r\n    font-size: 16px;\r\n    border: none;\r\n    outline: none;\r\n    width: 60%;\r\n    font-size: 14px;\r\n    color: rgba(0, 0, 0, 0.6);\r\n}\r\n\r\n.removeFood {\r\n    color: rgba(0, 0, 0, 0.6);\r\n    user-select: none;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    margin-top: 10px;\r\n}\r\n\r\n.removeFood:hover {\r\n    color: #1c1c1c;\r\n}\r\n\r\nlabel {\r\n    font-size: 14px;\r\n    color: rgba(0, 0, 0, 0.6);\r\n}\r\n\r\n.content-container {\r\n    padding: 10px 180px;\r\n    box-sizing: border-box;\r\n    min-height: calc(100vh - 200px);\r\n    overflow-x: hidden;\r\n}\r\n\r\n.modelInput {\r\n    outline: none;\r\n    border: none;\r\n    font-size: 22px;\r\n    width: 60%;\r\n    font-weight: 800;\r\n}\r\n\r\n.avatar {\r\n    width: 88px;\r\n    height: 88px;\r\n}\r\n</style>\r\n"]}]}