{"remainingRequest":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\SmartFitness\\smart-fitness-view\\src\\views\\user\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\SmartFitness\\smart-fitness-view\\src\\views\\user\\Main.vue","mtime":1749641712450},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749639512193},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1749639511518},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749639512193},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1749639525774}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNsZWFyVG9rZW4gfSBmcm9tICJAL3V0aWxzL3N0b3JhZ2UuanMiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKaW1wb3J0IFVzZXJNZW51IGZyb20gJ0AvY29tcG9uZW50cy9MZXZlbE1lbnUudnVlJzsKaW1wb3J0IENvemVGbG9hdGluZ1dpbmRvdyBmcm9tICdAL2NvbXBvbmVudHMvQ296ZUZsb2F0aW5nV2luZG93LnZ1ZSc7CmltcG9ydCB7IHVwZGF0ZUNvemVUb2tlbiB9IGZyb20gJ0AvYXBpL2NvemVXb3JrZmxvdyc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJVc2VyTWFpbiIsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgVXNlck1lbnUsCiAgICAgICAgQ296ZUZsb2F0aW5nV2luZG93CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1c2VySW5mbzoge30sCiAgICAgICAgICAgIGRhdGE6IHt9LAogICAgICAgICAgICBwd2RFbnRpdHk6IHsgb2xkUHdkOiAnJywgbmV3UHdkOiAnJywgYWdhaW5Qd2Q6ICcnIH0sCiAgICAgICAgICAgIGNvemVXb3JrZmxvd0lkOiAnNzUxNDMzOTIzNDMyMTYyOTIyMCcsIC8vIOaJo+WtkEFJ5bel5L2c5rWBSUQKICAgICAgICAgICAgc2hvd0NvemVXaW5kb3c6IHRydWUsIC8vIOaOp+WItuaYr+WQpuaYvuekuuaJo+WtkEFJ5bel5L2c5rWB56qX5Y+jCiAgICAgICAgICAgIGNvemVUb2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvemVUb2tlbicpIHx8ICcnLCAvLyDmiaPlrZBBSeW3peS9nOa1gXRva2VuCiAgICAgICAgICAgIGRpYWxvZ09wZXJhaW9uOiBmYWxzZSwKICAgICAgICAgICAgZGlhbG9nUmV0UHdkT3BlcmFpb246IGZhbHNlLAogICAgICAgICAgICBkaWFsb2dDb3plVG9rZW5PcGVyYXRpb246IGZhbHNlLCAvLyDorr7nva7miaPlrZBBSeW3peS9nOa1gXRva2Vu55qE5a+56K+d5qGGCiAgICAgICAgICAgIGZvb2RMaXN0OiBbXSwKICAgICAgICAgICAgcm91dGVyczogW10sCiAgICAgICAgICAgIGlzQ2hlY2tGb29kOiBbXSwKICAgICAgICAgICAgaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnOiBbXSwKICAgICAgICAgICAgaGVhbHRoTW9kZWxDb25maWc6IFtdLAogICAgICAgICAgICBzZWxlY2VkRm9vZEluZGV4OiAwLAogICAgICAgICAgICBzZWxlY2VkSGVhbHRoTW9kZWxJbmRleDogMCwKICAgICAgICAgICAgZGlldERpYWxvZzogZmFsc2UsCiAgICAgICAgICAgIGhlYWx0aE1vZGVsQ29uZmlnRGlhbG9nOiBmYWxzZQogICAgICAgIH07CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLnRva2VuQ2hlY2tMb2FkKCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIOWkhOeQhuaJo+WtkEFJ5bel5L2c5rWB57uE5Lu26ZSZ6K+vCiAgICAgICAgaGFuZGxlQ296ZUVycm9yKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aJo+WtkEFJ5bel5L2c5rWB57uE5Lu26ZSZ6K+vOicsIGVycm9yKTsKICAgICAgICAgICAgdGhpcy5zaG93Q296ZVdpbmRvdyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmmbrog73liqnmiYvliqDovb3lpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIOWmguaenOaYr3Rva2Vu6ZSZ6K+v77yM5o+Q56S66K6+572udG9rZW4KICAgICAgICAgICAgaWYgKGVycm9yLmlzVG9rZW5FcnJvciB8fCAKICAgICAgICAgICAgICAgIChlcnJvci5tZXNzYWdlICYmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCfmjojmnYPlpLHotKUnKSB8fCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ+S7pOeJjCcpIHx8IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygndG9rZW4nKSkpKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRjb25maXJtKCfmmbrog73liqnmiYvmjojmnYPlpLHotKXvvIzmmK/lkKborr7nva7mlrDnmoRUb2tlbj8nLCAn5o+Q56S6JywgewogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6K6+572uVG9rZW4nLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dDb3plVG9rZW5PcGVyYXRpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAKICAgICAgICAvLyDmiZPlvIDorr7nva7mmbrog73liqnmiYtUb2tlbueahOWvueivneahhgogICAgICAgIG9wZW5Db3plVG9rZW5EaWFsb2coKSB7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nQ296ZVRva2VuT3BlcmF0aW9uID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIAogICAgICAgIC8vIOabtOaWsOaJo+WtkEFJ5bel5L2c5rWBdG9rZW7lubbph43mlrDliqDovb0KICAgICAgICB1cGRhdGVDb3plVG9rZW5BbmRSZWxvYWQoKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5jb3plVG9rZW4pIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ1Rva2Vu5LiN6IO95Li656m6Jyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghdGhpcy5jb3plVG9rZW4uc3RhcnRzV2l0aCgncGF0XycpKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRjb25maXJtKCfovpPlhaXnmoRUb2tlbuagvOW8j+WPr+iDveS4jeato+ehru+8jOmAmuW4uOS7pXBhdF/lvIDlpLTvvIzmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+e7p+e7rScsCiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVUb2tlbkFuZFJlbG9hZCgpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5zYXZlVG9rZW5BbmRSZWxvYWQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgCiAgICAgICAgLy8g5L+d5a2YdG9rZW7lubbph43mlrDliqDovb3mmbrog73liqnmiYsKICAgICAgICBzYXZlVG9rZW5BbmRSZWxvYWQoKSB7CiAgICAgICAgICAgIC8vIOabtOaWsHRva2VuCiAgICAgICAgICAgIGlmICh1cGRhdGVDb3plVG9rZW4odGhpcy5jb3plVG9rZW4pKSB7CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0NvemVUb2tlbk9wZXJhdGlvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCdUb2tlbuW3suabtOaWsO+8jOato+WcqOmHjeaWsOWKoOi9veaZuuiDveWKqeaJiy4uLicpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDph43mlrDliqDovb3mmbrog73liqnmiYsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NvemVXaW5kb3cgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NvemVXaW5kb3cgPSB0cnVlOwogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ1Rva2Vu5pu05paw5aSx6LSlJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGhlYWx0aE1vZGVsQ2hhbmdlKCkgewogICAgICAgICAgICBjb25zdCBoZWFsdGhNb2RlbCA9IHRoaXMuaGVhbHRoTW9kZWxDb25maWdbdGhpcy5zZWxlY2VkSGVhbHRoTW9kZWxJbmRleCAtIDJdOwogICAgICAgICAgICBjb25zdCBleGlzdHMgPSB0aGlzLmlzQ2hlY2tIZWFsdGhNb2RlbENvbmZpZy5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gaGVhbHRoTW9kZWwuaWQpOwogICAgICAgICAgICAvLyDlpoLmnpzkuI3lrZjlnKjvvIzliJnmt7vliqDmlrDpgInnmoTlgaXlurfphY3nva7pobkKICAgICAgICAgICAgaWYgKCFleGlzdHMpIHsKICAgICAgICAgICAgICAgIHRoaXMuaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnLnVuc2hpZnQoaGVhbHRoTW9kZWwpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuaMh+agh+mhueW3sue7j+a3u+WKoCIpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB1cGRhdGVVc2VyUHdkKCkgewogICAgICAgICAgICB0aGlzLnJlc2V0UHdkKCk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyB1cGRhdGVVc2VySW5mbygpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJVcGRhdGVEVE8gPSB7CiAgICAgICAgICAgICAgICAgICAgdXNlckF2YXRhcjogdGhpcy5kYXRhLnVybCwKICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZTogdGhpcy5kYXRhLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiB0aGlzLmRhdGEuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgYmlydGhEYXRlOiB0aGlzLmRhdGEuYmlydGhEYXRlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIOWPquacieW9k+aAp+WIq+S4uuepuuaXtuaJjeWFgeiuuOabtOaWsOaAp+WIqwogICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlckluZm8uZ2VuZGVyID09PSBudWxsIHx8IHRoaXMudXNlckluZm8uZ2VuZGVyID09PSB1bmRlZmluZWQgfHwgdGhpcy51c2VySW5mby5nZW5kZXIgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgdXNlclVwZGF0ZURUTy5nZW5kZXIgPSB0aGlzLmRhdGEuZ2VuZGVyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCByZXNwb3NuZSA9IGF3YWl0IHRoaXMuJGF4aW9zLnB1dChgL3VzZXIvdXBkYXRlYCwgdXNlclVwZGF0ZURUTyk7CiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlc3Bvc25lOwogICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dPcGVyYWlvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5DaGVja0xvYWQoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S/ruaUueS4quS6uuS/oeaBrycsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGRhdGEubXNnLAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDEwMDAsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nT3BlcmFpb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkv67mlLnkuKrkurrkv6Hmga/lvILluLgnLAogICAgICAgICAgICAgICAgICAgIHRleHQ6IGUsCiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOS/ruaUueS4quS6uuS/oeaBr+W8guW4uDoke2V9YCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFzeW5jIHJlc2V0UHdkKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgeyBvbGRQd2QsIG5ld1B3ZCwgYWdhaW5Qd2QgfSA9IHRoaXMucHdkRW50aXR5OwogICAgICAgICAgICAgICAgaWYgKCFvbGRQd2QgfHwgIW5ld1B3ZCB8fCAhYWdhaW5Qd2QpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKGDku7vmhI/pobnkuI3kuLrnqbpgKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAobmV3UHdkICE9PSBhZ2FpblB3ZCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoYOWJjeWQjuWvhueggei+k+WFpeS4jeS4gOiHtGApOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IHB3ZERUTyA9IHsKICAgICAgICAgICAgICAgICAgICBvbGRQd2Q6IHRoaXMuJG1kNSh0aGlzLiRtZDUob2xkUHdkKSksCiAgICAgICAgICAgICAgICAgICAgbmV3UHdkOiB0aGlzLiRtZDUodGhpcy4kbWQ1KG5ld1B3ZCkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb3NuZSA9IGF3YWl0IHRoaXMuJGF4aW9zLnB1dChgL3VzZXIvdXBkYXRlUHdkYCwgcHdkRFRPKTsKICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9zbmU7CiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1JldFB3ZE9wZXJhaW9uID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkv67mlLnlr4bnoIEnLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLm1zZywKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMDAwLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRva2VuKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvbG9naW5gKTsKICAgICAgICAgICAgICAgICAgICB9LCAxMjAwKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dPcGVyYWlvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy4kZXJyb3IoZGF0YS5tc2cpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg5L+u5pS55a+G56CB5byC5bi4OiR7ZX1gKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlICE9PSAyMDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoYOWktOWDj+S4iuS8oOW8guW4uGApOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyhg5aS05YOP5LiK5Lyg5oiQ5YqfYCk7CiAgICAgICAgICAgIHRoaXMuZGF0YS51cmwgPSByZXMuZGF0YTsKICAgICAgICB9LAogICAgICAgIC8vIOebkeWQrOiPnOWNleeCueWHu+S6i+S7tgogICAgICAgIGV2ZW50TGlzdGVuZXIoZXZlbnQpIHsKICAgICAgICAgICAgLy8g5Liq5Lq65Lit5b+DCiAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2NlbnRlcicpIHsKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nT3BlcmFpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJJbmZvKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5a+G56CB6YeN572uCiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAncmVzZXRQd2QnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1JldFB3ZE9wZXJhaW9uID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDmkJzntKLpobXmkJzntKIKICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdzZWFyY2gtZGV0YWlsJykgewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zZWFyY2gtZGV0YWlsJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g6YCA5Ye655m75b2VCiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnbG9naW5PdXQnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luT3V0T3BlcmF0aW9uKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5YGl5bq35oyH5qCH6K6w5b2VCiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnaGVhbHRoRGF0YVJlY29yZCcpIHsKICAgICAgICAgICAgICAgIHRoaXMuaGVhbHRoTW9kZWxDb25maWdEaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOmlrumjn+iusOW9lQogICAgICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ2RpZXRSZWNvcmQnKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3VzZXIvZGlldC1yZWNvcmQnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDorr7nva7miaPlrZBBSeW3peS9nOa1gXRva2VuCiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnc2V0Q296ZVRva2VuJykgewogICAgICAgICAgICAgICAgdGhpcy5vcGVuQ296ZVRva2VuRGlhbG9nKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHJlbW92ZUZvb2QoZm9vZCkgewogICAgICAgICAgICAvLyDmuIXnqbrovpPlhaXpobkKICAgICAgICAgICAgZm9vZC5tZ1ZhbHVlID0gJyc7CiAgICAgICAgICAgIHRoaXMuaXNDaGVja0Zvb2QgPSB0aGlzLmlzQ2hlY2tGb29kLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IGZvb2QuaWQpOwogICAgICAgIH0sCiAgICAgICAgcmVtb3ZlSGVhbHRoTW9kZWwoaGVhbHRoTW9kZWwpIHsKICAgICAgICAgICAgLy8g5riF56m66L6T5YWl6aG5CiAgICAgICAgICAgIGhlYWx0aE1vZGVsLmlucHV0ID0gJyc7CiAgICAgICAgICAgIHRoaXMuaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnID0gdGhpcy5pc0NoZWNrSGVhbHRoTW9kZWxDb25maWcuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gaGVhbHRoTW9kZWwuaWQpOwogICAgICAgIH0sCiAgICAgICAgZm9vZENoYW5nZSgpIHsKICAgICAgICAgICAgY29uc3QgZm9vZCA9IHRoaXMuZm9vZExpc3RbdGhpcy5zZWxlY2VkRm9vZEluZGV4IC0gMV07CiAgICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IHRoaXMuaXNDaGVja0Zvb2Quc29tZShpdGVtID0+IGl0ZW0uaWQgPT09IGZvb2QuaWQpOwogICAgICAgICAgICAvLyDlpoLmnpzkuI3lrZjlnKjvvIzliJnmt7vliqDmlrDpgInnmoToj5zljZUKICAgICAgICAgICAgaWYgKCFleGlzdHMpIHsKICAgICAgICAgICAgICAgIHRoaXMuaXNDaGVja0Zvb2QudW5zaGlmdChmb29kKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLoj5zosLHlt7Lnu4/mt7vliqAiKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5o+Q5Lqk6aWu6aOf6K6w5b2VCiAgICAgICAgYXN5bmMgYWRkVXNlckhlYWx0aEhpc3RvcnkoKSB7CiAgICAgICAgICAgIGNvbnN0IGhlYWx0aE1vZGVscyA9IHRoaXMuaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnLm1hcChlbnRpdHkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBoZWFsdGhNb2RlbElkOiBlbnRpdHkuaWQsCiAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZTogZW50aXR5LmlucHV0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KGAvdXNlci1oZWFsdGgvc2F2ZWAsIGhlYWx0aE1vZGVscyk7CiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFsdGhNb2RlbENvbmZpZ0RpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnID0gW107CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICforrDlvZXlgaXlurfmjIfmoIcnLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn6K6w5b2V5oiQ5YqfJywKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxNTAwLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDorrDlvZXlgaXlurfmjIfmoIflvILluLhgLCBlKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5o+Q5Lqk6aWu6aOf6K6w5b2VCiAgICAgICAgYXN5bmMgYWRkRGlldEhpc3RvcnkoKSB7CiAgICAgICAgICAgIGNvbnN0IGZvb2RJZHMgPSB0aGlzLmlzQ2hlY2tGb29kLm1hcChlbnRpdHkgPT4gZW50aXR5LmlkKS5qb2luKCIsIik7CiAgICAgICAgICAgIGNvbnN0IGZvb2ROdW0gPSB0aGlzLmlzQ2hlY2tGb29kLm1hcChlbnRpdHkgPT4gZW50aXR5Lm1nVmFsdWUpLmpvaW4oIiwiKTsKICAgICAgICAgICAgY29uc3QgZGlldCA9IHsKICAgICAgICAgICAgICAgIGZvb2RJZHM6IGZvb2RJZHMsCiAgICAgICAgICAgICAgICBmb29kTnVtOiBmb29kTnVtCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdChgL2RpZXQvc2F2ZWAsIGRpZXQpOwogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZTsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlldERpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGVja0Zvb2QgPSBbXTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+iusOW9lemlrumjn++8jOaLpeaKseeUn+a0uycsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGRhdGEubXNnLAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDE1MDAsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOmlrumjn+aWsOWinuW8guW4uO+8mmAsIGUpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkSGVhbHRoTW9kZWxDb25maWdMaXN0KCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KGAvaGVhbHRoLW1vZGVsLWNvbmZpZy9saXN0YCwge30pOwogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZTsKICAgICAgICAgICAgICAgIHRoaXMuaGVhbHRoTW9kZWxDb25maWcgPSBkYXRhLmRhdGE7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOafpeivouWBpeW6t+mFjee9ruW8guW4uO+8mmAsIGUpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkRm9vZExpc3QoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoYC9mb29kL2xpc3RgLCB7fSk7CiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgdGhpcy5mb29kTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg5p+l6K+i6aWu6aOf6YWN572u5byC5bi477yaYCwgZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFzeW5jIGxvZ2luT3V0T3BlcmF0aW9uKCkgewogICAgICAgICAgICBjb25zdCBjb25maXJtZWQgPSBhd2FpdCB0aGlzLiRzd2FsQ29uZmlybSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+mAgOWHuueZu+W9lScsCiAgICAgICAgICAgICAgICB0ZXh0OiBg6YCA5Ye655m75b2V5ZCO77yM6ZyA6YeN5paw55m75b2V5omN6IO95L2/55So57O757uf5Yqf6IO9IWAsCiAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoY29uZmlybWVkKSB7IC8vIOa4hemZpFRva2Vu77yM6Lev55Sx6Iez55m75b2V6aG1CiAgICAgICAgICAgICAgICBjbGVhclRva2VuKCk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIFRva2Vu5qOA6aqMCiAgICAgICAgYXN5bmMgdG9rZW5DaGVja0xvYWQoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoJ3VzZXIvYXV0aCcpOwogICAgICAgICAgICAgICAgLy8g5qCh6aqM5aSx6LSlCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gNDAwKSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJUb2tlbigpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgeyBpZDogdXNlcklkLCB1c2VyQXZhdGFyLCB1c2VyTmFtZSwgdXNlclJvbGUsIHVzZXJFbWFpbCwgYmlydGhEYXRlLCBnZW5kZXIgfSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAvLyDlsIbnlKjmiLfkv6Hmga/lrZjlgqjotbfmnaUKICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJJbmZvJywgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEuZGF0YSkpOwogICAgICAgICAgICAgICAgdGhpcy51c2VySW5mbyA9IHsKICAgICAgICAgICAgICAgICAgICB1cmw6IHVzZXJBdmF0YXIsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlck5hbWUsCiAgICAgICAgICAgICAgICAgICAgcm9sZTogdXNlclJvbGUsCiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJFbWFpbCwKICAgICAgICAgICAgICAgICAgICBiaXJ0aERhdGU6IGJpcnRoRGF0ZSwKICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IGdlbmRlcgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHsgLi4udGhpcy51c2VySW5mbyB9OwogICAgICAgICAgICAgICAgLy8g5qC55o2u6KeS6Imy6Kej5p6Q6Lev55SxCiAgICAgICAgICAgICAgICBjb25zdCByb2xlUm91dGVLZXkgPSB1c2VyUm9sZSA9PT0gMSA/ICdhZG1pbicgOiAndXNlcic7CiAgICAgICAgICAgICAgICBjb25zdCByb2xlUm91dGUgPSByb3V0ZXIub3B0aW9ucy5yb3V0ZXMuZmluZChyb3V0ZSA9PiByb3V0ZS5wYXRoLnN0YXJ0c1dpdGgoYC8ke3JvbGVSb3V0ZUtleX1gKSk7CiAgICAgICAgICAgICAgICBpZiAocm9sZVJvdXRlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXJzID0gcm9sZVJvdXRlLmNoaWxkcmVuOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmnKrog73mib7liLDlr7nlupTop5LoibLnmoTot6/nlLHphY3nva4nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2Vu5qOA6aqM5pe25Y+R55Sf6ZSZ6K+vOicsIGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCn07Cg=="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n    <div class=\"user-container\">\n        <div class=\"menus-container\"\n            style=\"position: sticky;top: 0;z-index: 1000;background-color: rgb(255, 255, 255);\">\n            <UserMenu :menus=\"routers\" :userInfo=\"userInfo\" @eventListener=\"eventListener\" />\n        </div>\n        <div class=\"content-container\">\n            <router-view class=\"route-container\"></router-view>\n        </div>\n        <!-- 扣子AI工作流悬浮窗 -->\n        <CozeFloatingWindow v-if=\"showCozeWindow\" :workflow-id=\"cozeWorkflowId\" @error=\"handleCozeError\" />\n        <!-- 个人中心 -->\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogOperaion\" width=\"26%\">\n            <div slot=\"title\" style=\"padding: 25px 0 0 20px;\">\n                <span style=\"font-size: 18px;font-weight: 800;\">个人中心</span>\n            </div>\n            <el-row style=\"padding: 10px 20px 20px 20px;\">\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\n                        <span class=\"modelName\">*头像</span>\n                    </p>\n                    <el-upload class=\"avatar-uploader\" action=\"http://localhost:21090/api/smart-fitness/v1.0/file/upload\"\n                        :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\">\n                        <img v-if=\"data.url\" :src=\"data.url\" class=\"avatar\">\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                    </el-upload>\n                </el-row>\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;\">\n                        <span class=\"modelName\">*用户名</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"text\" v-model=\"data.name\" placeholder=\"用户名\">\n                </el-row>\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;\">\n                        <span class=\"modelName\">*个人邮箱</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"text\" v-model=\"data.email\" placeholder=\"个人邮箱\">\n                </el-row>\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;\">\n                        <span class=\"modelName\">出生日期</span>\n                    </p>\n                    <el-date-picker\n                        class=\"modelInput\"\n                        v-model=\"data.birthDate\"\n                        type=\"date\"\n                        placeholder=\"选择出生日期\"\n                        format=\"yyyy-MM-dd\"\n                        value-format=\"yyyy-MM-dd\">\n                    </el-date-picker>\n                </el-row>\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;\">\n                        <span class=\"modelName\">性别</span>\n                    </p>\n                    <el-select\n                        class=\"modelInput\"\n                        v-model=\"data.gender\"\n                        placeholder=\"选择性别\"\n                        :disabled=\"userInfo.gender !== null && userInfo.gender !== undefined && userInfo.gender !== ''\">\n                        <el-option label=\"男\" value=\"男\"></el-option>\n                        <el-option label=\"女\" value=\"女\"></el-option>\n                        <el-option label=\"其他\" value=\"其他\"></el-option>\n                    </el-select>\n                    <p v-if=\"userInfo.gender !== null && userInfo.gender !== undefined && userInfo.gender !== ''\" style=\"font-size: 12px;color: #909399;margin-top: 5px;\">\n                        性别一旦设置后不可修改\n                    </p>\n                </el-row>\n            </el-row>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button class=\"customer\" size=\"small\" style=\"background-color: rgb(241, 241, 241);border: none;\"\n                    @click=\"dialogOperaion = false\">取 消</el-button>\n                <el-button size=\"small\" style=\"background-color: #15559a;border: none;\" class=\"customer\" type=\"info\"\n                    @click=\"updateUserInfo\">修改</el-button>\n            </span>\n        </el-dialog>\n        <!-- 重置密码 -->\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogRetPwdOperaion\" width=\"26%\">\n            <div slot=\"title\" style=\"padding: 25px 0 0 20px;\">\n                <span style=\"font-size: 18px;font-weight: 800;\">重置密码</span>\n            </div>\n            <el-row style=\"padding: 10px 20px 20px 20px;\">\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\n                        <span class=\"modelName\">*原始密码</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"password\" v-model=\"pwdEntity.oldPwd\" placeholder=\"原始密码\">\n                </el-row>\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\n                        <span class=\"modelName\">*新密码</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"password\" v-model=\"pwdEntity.newPwd\" placeholder=\"新密码\">\n                </el-row>\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\n                        <span class=\"modelName\">*确认密码</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"password\" v-model=\"pwdEntity.againPwd\" placeholder=\"确认密码\">\n                </el-row>\n            </el-row>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button class=\"customer\" size=\"small\" style=\"background-color: rgb(241, 241, 241);border: none;\"\n                    @click=\"dialogRetPwdOperaion = false\">取 消</el-button>\n                <el-button size=\"small\" style=\"background-color: #15559a;border: none;\" class=\"customer\" type=\"info\"\n                    @click=\"updateUserPwd\">修改</el-button>\n            </span>\n        </el-dialog>\n            <div style=\"padding: 10px 20px;\">\n                <el-row v-for=\"(checkFood, index) in isCheckFood\" :key=\"index\">\n                    <el-col :span=\"10\">\n                        <img style=\"width: 100%;height: 100px;border-radius: 5px;\" :src=\"checkFood.cover\" />\n                    </el-col>\n                    <el-col :span=\"14\" style=\"padding: 0 20px;\">\n                        <div>\n                            <input class=\"modelInput\" type=\"text\" v-model=\"checkFood.mgValue\" placeholder=\"克数\">\n                            <span>克</span>\n                        </div>\n                        <div style=\"margin: 10px 5px;\">\n                            <div style=\"font-size: 16px;\">\n                                <span>{{ checkFood.name }} - {{ checkFood.tag }}</span>\n                            </div>\n                            <div style=\"margin-top: 6px;\">\n                                <span class=\"removeFood\" @click=\"removeFood(checkFood)\">\n                                    <i class=\"el-icon-circle-close\"></i>\n                                    移除\n                                </span>\n                            </div>\n                        </div>\n                    </el-col>\n                </el-row>\n            </div>\n        </el-dialog>\n        <!-- 设置扣子AI工作流token -->\n        <el-dialog :visible.sync=\"dialogCozeTokenOperation\" width=\"26%\" :show-close=\"false\">\n            <div slot=\"title\" style=\"padding: 25px 0 0 20px;\">\n                <span style=\"font-size: 18px;font-weight: 800;\">设置智能助手Token</span>\n            </div>\n            <el-row style=\"padding: 10px 20px 20px 20px;\">\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\n                        <span class=\"modelName\">*扣子AI工作流Token</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"text\" v-model=\"cozeToken\" placeholder=\"请输入有效的Token\">\n                    <p style=\"font-size: 12px;color: #909399;margin-top: 5px;\">\n                        Token格式通常为pat_开头的字符串，请从扣子AI工作流平台获取\n                    </p>\n                </el-row>\n            </el-row>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button class=\"customer\" size=\"small\" style=\"background-color: rgb(241, 241, 241);border: none;\"\n                    @click=\"dialogCozeTokenOperation = false\">取 消</el-button>\n                <el-button size=\"small\" style=\"background-color: #15559a;border: none;\" class=\"customer\" type=\"info\"\n                    @click=\"updateCozeTokenAndReload\">保存并重启助手</el-button>\n            </span>\n        </el-dialog>\n        \n        <!-- 记录健康指标 -->\n        <el-dialog :visible.sync=\"healthModelConfigDialog\" width=\"28%\" :show-close=\"false\">\n            <div slot=\"title\">\n                <p style=\"color: rgba(0, 1, 4, 0.8);margin: 0;padding: 20px;font-size: 18px;font-weight: 600;\">\n                    记录健康指标</p>\n            </div>\n            <div style=\"padding: 10px 20px;\">\n                <el-row>\n                    <el-col :span=\"6\">\n                        <span @click=\"addUserHealthHistory\"\n                            style=\"margin-top: 10px;display: inline-block;color: white;background-color: #15559a;padding: 5px 8px;border-radius: 3px;font-size: 12px;\">\n                            <i class=\"el-icon-circle-plus\"></i>\n                            确认提交\n                        </span>\n                    </el-col>\n                    <el-col :span=\"18\">\n                        <label for=\"nutrition-select\">选择健康指标</label>\n                        <select id=\"nutrition-select\" v-model=\"selecedHealthModelIndex\" @change=\"healthModelChange\">\n                            <option v-for=\"option in healthModelConfig\" :key=\"option.modelName\" :value=\"option.id\">\n                                {{ option.modelName }}\n                            </option>\n                        </select>\n                    </el-col>\n                </el-row>\n            </div>\n            <div style=\"padding: 10px 20px;\">\n                <el-row v-for=\"(healthModel, index) in isCheckHealthModelConfig\" :key=\"index\"\n                    style=\"border-bottom: 1px solid #f1f1f1;padding: 15px 0;\">\n                    <el-col :span=\"4\">\n                        <img style=\"width: 90%;height: 60px;border-radius: 5px;margin-top: 26px;\"\n                            :src=\"healthModel.modelIcon\" />\n                    </el-col>\n                    <el-col :span=\"20\" style=\"padding: 0 20px;\">\n                        <div>\n                            <input class=\"modelInput\" type=\"text\" v-model=\"healthModel.input\" placeholder=\"数值\">\n                            <span>{{ healthModel.modelUnit }}</span>\n                        </div>\n                        <div style=\"margin: 10px 5px;\">\n                            <div style=\"font-size: 16px;\">\n                                <span>{{ healthModel.modelName }} - {{ healthModel.modelSymbol }}</span>\n                            </div>\n                            <div style=\"margin-top: 6px;\">\n                                <span class=\"removeFood\" @click=\"removeHealthModel(healthModel)\">\n                                    <i class=\"el-icon-circle-close\"></i>\n                                    移除\n                                </span>\n                            </div>\n                        </div>\n                    </el-col>\n                </el-row>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n<script>\nimport { clearToken } from \"@/utils/storage.js\";\nimport router from \"@/router\";\nimport UserMenu from '@/components/LevelMenu.vue';\nimport CozeFloatingWindow from '@/components/CozeFloatingWindow.vue';\nimport { updateCozeToken } from '@/api/cozeWorkflow';\nexport default {\n    name: \"UserMain\",\n    components: {\n        UserMenu,\n        CozeFloatingWindow\n    },\n    data() {\n        return {\n            userInfo: {},\n            data: {},\n            pwdEntity: { oldPwd: '', newPwd: '', againPwd: '' },\n            cozeWorkflowId: '7514339234321629220', // 扣子AI工作流ID\n            showCozeWindow: true, // 控制是否显示扣子AI工作流窗口\n            cozeToken: localStorage.getItem('cozeToken') || '', // 扣子AI工作流token\n            dialogOperaion: false,\n            dialogRetPwdOperaion: false,\n            dialogCozeTokenOperation: false, // 设置扣子AI工作流token的对话框\n            foodList: [],\n            routers: [],\n            isCheckFood: [],\n            isCheckHealthModelConfig: [],\n            healthModelConfig: [],\n            selecedFoodIndex: 0,\n            selecedHealthModelIndex: 0,\n            dietDialog: false,\n            healthModelConfigDialog: false\n        };\n    },\n    created() {\n        this.tokenCheckLoad();\n    },\n    methods: {\n        // 处理扣子AI工作流组件错误\n        handleCozeError(error) {\n            console.error('扣子AI工作流组件错误:', error);\n            this.showCozeWindow = false;\n            this.$message.error('智能助手加载失败，请稍后再试');\n            \n            // 如果是token错误，提示设置token\n            if (error.isTokenError || \n                (error.message && (error.message.includes('授权失败') || \n                                  error.message.includes('令牌') || \n                                  error.message.includes('token')))) {\n                this.$confirm('智能助手授权失败，是否设置新的Token?', '提示', {\n                    confirmButtonText: '设置Token',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.dialogCozeTokenOperation = true;\n                }).catch(() => {});\n            }\n        },\n        \n        // 打开设置智能助手Token的对话框\n        openCozeTokenDialog() {\n            this.dialogCozeTokenOperation = true;\n        },\n        \n        // 更新扣子AI工作流token并重新加载\n        updateCozeTokenAndReload() {\n            if (!this.cozeToken) {\n                this.$message.error('Token不能为空');\n                return;\n            }\n            \n            if (!this.cozeToken.startsWith('pat_')) {\n                this.$confirm('输入的Token格式可能不正确，通常以pat_开头，是否继续?', '提示', {\n                    confirmButtonText: '继续',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.saveTokenAndReload();\n                }).catch(() => {});\n            } else {\n                this.saveTokenAndReload();\n            }\n        },\n        \n        // 保存token并重新加载智能助手\n        saveTokenAndReload() {\n            // 更新token\n            if (updateCozeToken(this.cozeToken)) {\n                this.dialogCozeTokenOperation = false;\n                this.$message.success('Token已更新，正在重新加载智能助手...');\n                \n                // 重新加载智能助手\n                this.showCozeWindow = false;\n                setTimeout(() => {\n                    this.showCozeWindow = true;\n                }, 500);\n            } else {\n                this.$message.error('Token更新失败');\n            }\n        },\n        healthModelChange() {\n            const healthModel = this.healthModelConfig[this.selecedHealthModelIndex - 2];\n            const exists = this.isCheckHealthModelConfig.some(item => item.id === healthModel.id);\n            // 如果不存在，则添加新选的健康配置项\n            if (!exists) {\n                this.isCheckHealthModelConfig.unshift(healthModel);\n            } else {\n                console.log(\"指标项已经添加\");\n            }\n        },\n        updateUserPwd() {\n            this.resetPwd();\n        },\n        async updateUserInfo() {\n            try {\n                const userUpdateDTO = {\n                    userAvatar: this.data.url,\n                    userName: this.data.name,\n                    userEmail: this.data.email,\n                    birthDate: this.data.birthDate\n                }\n                \n                // 只有当性别为空时才允许更新性别\n                if (this.userInfo.gender === null || this.userInfo.gender === undefined || this.userInfo.gender === '') {\n                    userUpdateDTO.gender = this.data.gender;\n                }\n                \n                const resposne = await this.$axios.put(`/user/update`, userUpdateDTO);\n                const { data } = resposne;\n                if (data.code === 200) {\n                    this.dialogOperaion = false;\n                    this.tokenCheckLoad();\n                    this.$swal.fire({\n                        title: '修改个人信息',\n                        text: data.msg,\n                        icon: 'success',\n                        showConfirmButton: false,\n                        timer: 1000,\n                    });\n                }\n            } catch (e) {\n                this.dialogOperaion = false;\n                this.$swal.fire({\n                    title: '修改个人信息异常',\n                    text: e,\n                    icon: 'error',\n                    showConfirmButton: false,\n                    timer: 2000,\n                });\n                console.error(`修改个人信息异常:${e}`);\n            }\n        },\n        async resetPwd() {\n            try {\n                const { oldPwd, newPwd, againPwd } = this.pwdEntity;\n                if (!oldPwd || !newPwd || !againPwd) {\n                    this.$message(`任意项不为空`);\n                    return;\n                }\n                if (newPwd !== againPwd) {\n                    this.$message(`前后密码输入不一致`);\n                    return;\n                }\n                const pwdDTO = {\n                    oldPwd: this.$md5(this.$md5(oldPwd)),\n                    newPwd: this.$md5(this.$md5(newPwd))\n                }\n                const resposne = await this.$axios.put(`/user/updatePwd`, pwdDTO);\n                const { data } = resposne;\n                if (data.code === 200) {\n                    this.dialogRetPwdOperaion = false;\n                    this.$swal.fire({\n                        title: '修改密码',\n                        text: data.msg,\n                        icon: 'success',\n                        showConfirmButton: false,\n                        timer: 1000,\n                    });\n                    setTimeout(() => {\n                        clearToken();\n                        this.$router.push(`/login`);\n                    }, 1200)\n                } else {\n                    this.$message.error(data.msg);\n                }\n            } catch (e) {\n                this.dialogOperaion = false;\n                this.$error(data.msg);\n                console.error(`修改密码异常:${e}`);\n            }\n        },\n        handleAvatarSuccess(res, file) {\n            if (res.code !== 200) {\n                this.$message.error(`头像上传异常`);\n                return;\n            }\n            this.$message.success(`头像上传成功`);\n            this.data.url = res.data;\n        },\n        // 监听菜单点击事件\n        eventListener(event) {\n            // 个人中心\n            if (event === 'center') {\n                this.dialogOperaion = true;\n                this.data = JSON.parse(JSON.stringify(this.userInfo));\n            }\n            // 密码重置\n            else if (event === 'resetPwd') {\n                this.dialogRetPwdOperaion = true;\n            }\n            // 搜索页搜索\n            else if (event === 'search-detail') {\n                this.$router.push('/search-detail');\n            }\n            // 退出登录\n            else if (event === 'loginOut') {\n                this.loginOutOperation();\n            }\n            // 健康指标记录\n            else if (event === 'healthDataRecord') {\n                this.healthModelConfigDialog = true;\n            }\n            // 饮食记录\n            else if (event === 'dietRecord') {\n                this.$router.push('/user/diet-record');\n            }\n            // 设置扣子AI工作流token\n            else if (event === 'setCozeToken') {\n                this.openCozeTokenDialog();\n            }\n        },\n        removeFood(food) {\n            // 清空输入项\n            food.mgValue = '';\n            this.isCheckFood = this.isCheckFood.filter(item => item.id !== food.id);\n        },\n        removeHealthModel(healthModel) {\n            // 清空输入项\n            healthModel.input = '';\n            this.isCheckHealthModelConfig = this.isCheckHealthModelConfig.filter(item => item.id !== healthModel.id);\n        },\n        foodChange() {\n            const food = this.foodList[this.selecedFoodIndex - 1];\n            const exists = this.isCheckFood.some(item => item.id === food.id);\n            // 如果不存在，则添加新选的菜单\n            if (!exists) {\n                this.isCheckFood.unshift(food);\n            } else {\n                console.log(\"菜谱已经添加\");\n            }\n        },\n        // 提交饮食记录\n        async addUserHealthHistory() {\n            const healthModels = this.isCheckHealthModelConfig.map(entity => {\n                return {\n                    healthModelId: entity.id,\n                    inputValue: entity.input\n                }\n            });\n            try {\n                const response = await this.$axios.post(`/user-health/save`, healthModels);\n                const { data } = response;\n                if (data.code === 200) {\n                    this.healthModelConfigDialog = false;\n                    this.isCheckHealthModelConfig = [];\n                    this.$swal.fire({\n                        title: '记录健康指标',\n                        text: '记录成功',\n                        icon: 'success',\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                }\n            } catch (e) {\n                console.error(`记录健康指标异常`, e);\n            }\n        },\n        // 提交饮食记录\n        async addDietHistory() {\n            const foodIds = this.isCheckFood.map(entity => entity.id).join(\",\");\n            const foodNum = this.isCheckFood.map(entity => entity.mgValue).join(\",\");\n            const diet = {\n                foodIds: foodIds,\n                foodNum: foodNum\n            }\n            try {\n                const response = await this.$axios.post(`/diet/save`, diet);\n                const { data } = response;\n                if (data.code === 200) {\n                    this.dietDialog = false;\n                    this.isCheckFood = [];\n                    this.$swal.fire({\n                        title: '记录饮食，拥抱生活',\n                        text: data.msg,\n                        icon: 'success',\n                        showConfirmButton: false,\n                        timer: 1500,\n                    });\n                }\n            } catch (e) {\n                console.error(`饮食新增异常：`, e);\n            }\n        },\n        async loadHealthModelConfigList() {\n            try {\n                const response = await this.$axios.post(`/health-model-config/list`, {});\n                const { data } = response;\n                this.healthModelConfig = data.data;\n            } catch (e) {\n                console.error(`查询健康配置异常：`, e);\n            }\n        },\n        async loadFoodList() {\n            try {\n                const response = await this.$axios.post(`/food/list`, {});\n                const { data } = response;\n                this.foodList = data.data;\n            } catch (e) {\n                console.error(`查询饮食配置异常：`, e);\n            }\n        },\n        async loginOutOperation() {\n            const confirmed = await this.$swalConfirm({\n                title: '退出登录',\n                text: `退出登录后，需重新登录才能使用系统功能!`,\n                icon: 'warning',\n            });\n            if (confirmed) { // 清除Token，路由至登录页\n                clearToken();\n                this.$router.push('/login');\n            }\n        },\n        // Token检验\n        async tokenCheckLoad() {\n            try {\n                const res = await this.$axios.get('user/auth');\n                // 校验失败\n                if (res.data.code === 400) {\n                    clearToken();\n                    this.$message.error(res.data.msg);\n                    this.$router.push('/login');\n                    return;\n                }\n                const { id: userId, userAvatar, userName, userRole, userEmail, birthDate, gender } = res.data.data;\n                // 将用户信息存储起来\n                sessionStorage.setItem('userInfo', JSON.stringify(res.data.data));\n                this.userInfo = {\n                    url: userAvatar,\n                    name: userName,\n                    role: userRole,\n                    email: userEmail,\n                    birthDate: birthDate,\n                    gender: gender\n                };\n                this.data = { ...this.userInfo };\n                // 根据角色解析路由\n                const roleRouteKey = userRole === 1 ? 'admin' : 'user';\n                const roleRoute = router.options.routes.find(route => route.path.startsWith(`/${roleRouteKey}`));\n                if (roleRoute) {\n                    this.routers = roleRoute.children;\n                } else {\n                    console.error('未能找到对应角色的路由配置');\n                }\n            } catch (error) {\n                console.error('Token检验时发生错误:', error);\n            }\n        }\n    },\n};\n</script>\n<style scoped lang=\"scss\">\n#nutrition-select {\n    margin: 10px;\n    padding: 5px;\n    font-size: 16px;\n    border: none;\n    outline: none;\n    width: 60%;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.6);\n}\n\n.removeFood {\n    color: rgba(0, 0, 0, 0.6);\n    user-select: none;\n    cursor: pointer;\n    display: inline-block;\n    margin-top: 10px;\n}\n\n.removeFood:hover {\n    color: #1c1c1c;\n}\n\nlabel {\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.6);\n}\n\n.content-container {\n    padding: 10px 180px;\n    box-sizing: border-box;\n    min-height: calc(100vh - 200px);\n    overflow-x: hidden;\n}\n\n.modelInput {\n    outline: none;\n    border: none;\n    font-size: 22px;\n    width: 60%;\n    font-weight: 800;\n}\n\n.avatar {\n    width: 88px;\n    height: 88px;\n}\n</style>\n"]}]}