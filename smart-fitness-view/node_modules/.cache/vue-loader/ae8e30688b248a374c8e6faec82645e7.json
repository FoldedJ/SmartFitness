{"remainingRequest":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\SmartFitness\\smart-fitness-view\\src\\components\\MealRecordList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\SmartFitness\\smart-fitness-view\\src\\components\\MealRecordList.vue","mtime":1749373627061},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1748086666483},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1748086666194},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1748086666483},{"path":"E:\\SmartFitness\\smart-fitness-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1748086671258}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWVhbFJlY29yZExpc3QiLAogIHByb3BzOiB7CiAgICByZWNvcmRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRldGFpbERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzZWxlY3RlZFJlY29yZDogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDorqHnrpfor6XppJDnmoTmgLvng63ph48KICAgIG1lYWxUb3RhbENhbG9yaWVzKCkgewogICAgICByZXR1cm4gdGhpcy5yZWNvcmRzLnJlZHVjZSgodG90YWwsIHJlY29yZCkgPT4gewogICAgICAgIHJldHVybiB0b3RhbCArIChyZWNvcmQuYWN0dWFsQ2Fsb3JpZXMgfHwgMCk7CiAgICAgIH0sIDApOwogICAgfSwKICAgIAogICAgLy8g6K6h566X6K+l6aSQ55qE5oC76JuL55m96LSoCiAgICBtZWFsVG90YWxQcm90ZWluKCkgewogICAgICByZXR1cm4gdGhpcy5yZWNvcmRzLnJlZHVjZSgodG90YWwsIHJlY29yZCkgPT4gewogICAgICAgIHJldHVybiB0b3RhbCArIHBhcnNlRmxvYXQocmVjb3JkLmFjdHVhbFByb3RlaW4gfHwgMCk7CiAgICAgIH0sIDApOwogICAgfSwKICAgIAogICAgLy8g6K6h566X6K+l6aSQ55qE5oC756Kz5rC05YyW5ZCI54mpCiAgICBtZWFsVG90YWxDYXJib2h5ZHJhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnJlY29yZHMucmVkdWNlKCh0b3RhbCwgcmVjb3JkKSA9PiB7CiAgICAgICAgcmV0dXJuIHRvdGFsICsgcGFyc2VGbG9hdChyZWNvcmQuYWN0dWFsQ2FyYm9oeWRyYXRlIHx8IDApOwogICAgICB9LCAwKTsKICAgIH0sCiAgICAKICAgIC8vIOiuoeeul+ivpemkkOeahOaAu+iEguiCqgogICAgbWVhbFRvdGFsRmF0KCkgewogICAgICByZXR1cm4gdGhpcy5yZWNvcmRzLnJlZHVjZSgodG90YWwsIHJlY29yZCkgPT4gewogICAgICAgIHJldHVybiB0b3RhbCArIHBhcnNlRmxvYXQocmVjb3JkLmFjdHVhbEZhdCB8fCAwKTsKICAgICAgfSwgMCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmoLzlvI/ljJbml6XmnJ8KICAgIGZvcm1hdERhdGUoZGF0ZVN0cmluZykgewogICAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiAiIjsKICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpOwogICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZygiemgtQ04iLCB7CiAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgIG1vbnRoOiAiMi1kaWdpdCIsCiAgICAgICAgZGF5OiAiMi1kaWdpdCIsCiAgICAgICAgaG91cjogIjItZGlnaXQiLAogICAgICAgIG1pbnV0ZTogIjItZGlnaXQiCiAgICAgIH0pOwogICAgfSwKICAgIAogICAgLy8g5p+l55yL6K+m5oOFCiAgICB2aWV3RGV0YWlsKHJlY29yZCkgewogICAgICB0aGlzLnNlbGVjdGVkUmVjb3JkID0gcmVjb3JkOwogICAgICB0aGlzLmRldGFpbERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIAogICAgLy8g56Gu6K6k5Yig6ZmkCiAgICBjb25maXJtRGVsZXRlKHJlY29yZCkgewogICAgICB0aGlzLiRjb25maXJtKCfnoa7lrpropoHliKDpmaTov5nmnaHppa7po5/orrDlvZXlkJfvvJ8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kZW1pdCgnZGVsZXRlJywgcmVjb3JkLmlkKTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIC8vIOeUqOaIt+WPlua2iOWIoOmZpAogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["MealRecordList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MealRecordList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"meal-record-list\">\n    <div v-if=\"records.length === 0\" class=\"empty-state\">\n      <el-empty description=\"暂无饮食记录\">\n        <el-button type=\"primary\" size=\"small\" @click=\"$emit('add-record')\">添加记录</el-button>\n      </el-empty>\n    </div>\n    \n    <div v-else>\n      <el-table :data=\"records\" style=\"width: 100%\">\n        <el-table-column prop=\"foodName\" label=\"食物名称\" width=\"150\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.food ? scope.row.food.foodName : '未知食物' }}\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"摄入量\" width=\"120\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.consumeAmount }}\n            {{ scope.row.food ? scope.row.food.servingUnit : 'g' }}\n          </template>\n        </el-table-column>\n        \n        <el-table-column prop=\"actualCalories\" label=\"热量(kcal)\" width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.actualCalories || 0 }}\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"蛋白质(g)\" width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ parseFloat(scope.row.actualProtein || 0).toFixed(1) }}\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"碳水化合物(g)\" width=\"120\">\n          <template slot-scope=\"scope\">\n            {{ parseFloat(scope.row.actualCarbohydrate || 0).toFixed(1) }}\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"脂肪(g)\" width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ parseFloat(scope.row.actualFat || 0).toFixed(1) }}\n          </template>\n        </el-table-column>\n        \n        <el-table-column prop=\"createTime\" label=\"记录时间\" width=\"180\">\n          <template slot-scope=\"scope\">\n            {{ formatDate(scope.row.createTime) }}\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"viewDetail(scope.row)\"\n            >\n              详情\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              style=\"color: #f56c6c\"\n              @click=\"confirmDelete(scope.row)\"\n            >\n              删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      \n      <!-- 营养汇总 -->\n      <div class=\"meal-summary\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"6\">\n            <div class=\"summary-item\">\n              <span class=\"summary-label\">总热量:</span>\n              <span class=\"summary-value\">{{ mealTotalCalories }} kcal</span>\n            </div>\n          </el-col>\n          <el-col :span=\"6\">\n            <div class=\"summary-item\">\n              <span class=\"summary-label\">总蛋白质:</span>\n              <span class=\"summary-value\">{{ mealTotalProtein.toFixed(1) }} g</span>\n            </div>\n          </el-col>\n          <el-col :span=\"6\">\n            <div class=\"summary-item\">\n              <span class=\"summary-label\">总碳水:</span>\n              <span class=\"summary-value\">{{ mealTotalCarbohydrate.toFixed(1) }} g</span>\n            </div>\n          </el-col>\n          <el-col :span=\"6\">\n            <div class=\"summary-item\">\n              <span class=\"summary-label\">总脂肪:</span>\n              <span class=\"summary-value\">{{ mealTotalFat.toFixed(1) }} g</span>\n            </div>\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n    \n    <!-- 详情对话框 -->\n    <el-dialog\n      title=\"饮食记录详情\"\n      :visible.sync=\"detailDialogVisible\"\n      width=\"500px\"\n    >\n      <div v-if=\"selectedRecord\" class=\"record-detail\">\n        <el-descriptions :column=\"2\" border>\n          <el-descriptions-item label=\"食物名称\">\n            {{ selectedRecord.food ? selectedRecord.food.foodName : '未知食物' }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"摄入量\">\n            {{ selectedRecord.consumeAmount }}\n            {{ selectedRecord.food ? selectedRecord.food.servingUnit : 'g' }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"实际热量\">\n            {{ selectedRecord.actualCalories || 0 }} kcal\n          </el-descriptions-item>\n          <el-descriptions-item label=\"实际蛋白质\">\n            {{ parseFloat(selectedRecord.actualProtein || 0).toFixed(1) }} g\n          </el-descriptions-item>\n          <el-descriptions-item label=\"实际碳水化合物\">\n            {{ parseFloat(selectedRecord.actualCarbohydrate || 0).toFixed(1) }} g\n          </el-descriptions-item>\n          <el-descriptions-item label=\"实际脂肪\">\n            {{ parseFloat(selectedRecord.actualFat || 0).toFixed(1) }} g\n          </el-descriptions-item>\n          <el-descriptions-item label=\"记录时间\" :span=\"2\">\n            {{ formatDate(selectedRecord.createTime) }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"备注\" :span=\"2\">\n            {{ selectedRecord.notes || '无' }}\n          </el-descriptions-item>\n        </el-descriptions>\n        \n        <!-- 食物营养信息 -->\n        <div v-if=\"selectedRecord.food\" class=\"food-nutrition\">\n          <h4>食物营养信息 (每{{ selectedRecord.food.servingSize }}{{ selectedRecord.food.servingUnit }})</h4>\n          <el-descriptions :column=\"2\" border size=\"small\">\n            <el-descriptions-item label=\"热量\">\n              {{ selectedRecord.food.calories || 0 }} kcal\n            </el-descriptions-item>\n            <el-descriptions-item label=\"蛋白质\">\n              {{ parseFloat(selectedRecord.food.protein || 0).toFixed(1) }} g\n            </el-descriptions-item>\n            <el-descriptions-item label=\"碳水化合物\">\n              {{ parseFloat(selectedRecord.food.carbohydrate || 0).toFixed(1) }} g\n            </el-descriptions-item>\n            <el-descriptions-item label=\"脂肪\">\n              {{ parseFloat(selectedRecord.food.fat || 0).toFixed(1) }} g\n            </el-descriptions-item>\n            <el-descriptions-item label=\"纤维\">\n              {{ parseFloat(selectedRecord.food.fiber || 0).toFixed(1) }} g\n            </el-descriptions-item>\n            <el-descriptions-item label=\"钠\">\n              {{ parseFloat(selectedRecord.food.sodium || 0).toFixed(1) }} mg\n            </el-descriptions-item>\n          </el-descriptions>\n        </div>\n      </div>\n      \n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"detailDialogVisible = false\">关闭</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MealRecordList\",\n  props: {\n    records: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      detailDialogVisible: false,\n      selectedRecord: null\n    };\n  },\n  computed: {\n    // 计算该餐的总热量\n    mealTotalCalories() {\n      return this.records.reduce((total, record) => {\n        return total + (record.actualCalories || 0);\n      }, 0);\n    },\n    \n    // 计算该餐的总蛋白质\n    mealTotalProtein() {\n      return this.records.reduce((total, record) => {\n        return total + parseFloat(record.actualProtein || 0);\n      }, 0);\n    },\n    \n    // 计算该餐的总碳水化合物\n    mealTotalCarbohydrate() {\n      return this.records.reduce((total, record) => {\n        return total + parseFloat(record.actualCarbohydrate || 0);\n      }, 0);\n    },\n    \n    // 计算该餐的总脂肪\n    mealTotalFat() {\n      return this.records.reduce((total, record) => {\n        return total + parseFloat(record.actualFat || 0);\n      }, 0);\n    }\n  },\n  methods: {\n    // 格式化日期\n    formatDate(dateString) {\n      if (!dateString) return \"\";\n      const date = new Date(dateString);\n      return date.toLocaleString(\"zh-CN\", {\n        year: \"numeric\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n      });\n    },\n    \n    // 查看详情\n    viewDetail(record) {\n      this.selectedRecord = record;\n      this.detailDialogVisible = true;\n    },\n    \n    // 确认删除\n    confirmDelete(record) {\n      this.$confirm('确定要删除这条饮食记录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$emit('delete', record.id);\n      }).catch(() => {\n        // 用户取消删除\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.meal-record-list {\n  min-height: 200px;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 40px 0;\n}\n\n.meal-summary {\n  margin-top: 15px;\n  padding: 15px;\n  background-color: #f8f9fa;\n  border-radius: 6px;\n  border: 1px solid #e9ecef;\n}\n\n.summary-item {\n  text-align: center;\n}\n\n.summary-label {\n  display: block;\n  font-size: 12px;\n  color: #666;\n  margin-bottom: 5px;\n}\n\n.summary-value {\n  display: block;\n  font-size: 16px;\n  font-weight: bold;\n  color: #409EFF;\n}\n\n.record-detail {\n  padding: 10px 0;\n}\n\n.food-nutrition {\n  margin-top: 20px;\n  padding-top: 20px;\n  border-top: 1px solid #eee;\n}\n\n.food-nutrition h4 {\n  margin-bottom: 15px;\n  color: #333;\n  font-size: 14px;\n}\n\n.el-table {\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.el-table th {\n  background-color: #fafafa;\n  color: #333;\n  font-weight: 600;\n}\n\n.el-table td {\n  border-bottom: 1px solid #ebeef5;\n}\n\n.el-table tr:hover {\n  background-color: #f5f7fa;\n}\n\n.dialog-footer {\n  text-align: right;\n}\n</style>"]}]}