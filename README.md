# 小绿书--基于Spring boot + Vue + 达梦数据库DM8的智能健身管理系统
  - 作者：Folded_J
  - 这是本人作为初学者在大三下学期应用软件架构课程的课程设计，相对简陋
    
## 一、项目概述
  小绿书是一个基于Spring Boot + Vue + 达梦数据库DM8开发的智能健身管理系统，旨在为用户提供全面的健身和饮食管理服务。系统采用前后端分离架构，后端使用Spring Boot框架提供RESTful API，前端使用Vue.js构建响应式用户界面，数据存储采用国产达梦数据库DM8。

## 二、开发工具与项目部署
### 1.开发工具（推荐）
- 前端：Vscode
- 后端：IDEA
- 数据库：达梦数据库DM8，推荐使用官方的DM管理工具操作数据库
- JDK：1.8
- Maven：3.6.1
- Node.js：14.16.0（强烈建议版本一致）

### 2.项目部署

#### （1）后端配置

- 项目环境配置

![image.png](https://cdn.nlark.com/yuque/0/2024/png/32649796/1720624447780-7d1f69a7-7c57-4c15-be0a-975a0595e8be.png?x-oss-process=image%2Fformat%2Cwebp)

![image.png](https://cdn.nlark.com/yuque/0/2024/png/32649796/1720624511078-54cd7fa6-0ffb-44c3-bb44-84a59aa62bdc.png?x-oss-process=image%2Fformat%2Cwebp)

![image.png](https://cdn.nlark.com/yuque/0/2024/png/32649796/1720624529579-f5832546-1be5-4926-b41e-bec75774fd86.png?x-oss-process=image%2Fformat%2Cwebp)

![image.png](https://cdn.nlark.com/yuque/0/2024/png/32649796/1720624547476-d336f0e1-24b7-4410-a020-981ed5711407.png?x-oss-process=image%2Fformat%2Cwebp)

- 配置Maven

![image.png](https://cdn.nlark.com/yuque/0/2024/png/32649796/1720624394913-40e81aea-621c-464c-abed-978456c108a0.png?x-oss-process=image%2Fformat%2Cwebp)

- application.yml配置

​	需要输入数据库的用户名和密码，项目默认将数据库存储在SYSDBA下面，且只允许有这一个数据库，如需更改，需要手动修改操作数据库的xml文件。

​	需要输入腾讯混元api的相关密钥等。

​	需要将Coze相关的参数手动存储到本地的环境变量中，添加后需要重启IDEA才能生效。

​	注：如不需要上述功能，自行删除相关代码以及服务。

#### （2）前端配置

​	vscode导入项目之后，在src目录下，点击鼠标右键，在出现的功能列表里面，点击在“...终端打开”

![image.png](https://cdn.nlark.com/yuque/0/2024/png/32649796/1720625154807-9af078e3-ca0c-4cbb-9a5f-6c82a8fc36ed.png?x-oss-process=image%2Fformat%2Cwebp)

​	终端输入 npm i ，加载项目需要的依赖环境

![image.png](https://cdn.nlark.com/yuque/0/2024/png/32649796/1720625230352-53ef5eb0-6379-4369-b7a7-ba070ca9390c.png?x-oss-process=image%2Fformat%2Cwebp)

​	证明依赖已经安装好了！

![image.png](https://cdn.nlark.com/yuque/0/2024/png/32649796/1720625422799-56894949-de6f-44ac-a780-3f26cde6594c.png?x-oss-process=image%2Fformat%2Cwebp)

​	依赖安装完成之后，执行 npm run dev运行前端的项目。

![image.png](https://cdn.nlark.com/yuque/0/2024/png/32649796/1720625449660-82e39e00-b1e3-437e-b419-9e1bc8e69b64.png?x-oss-process=image%2Fformat%2Cwebp)

## 三、功能模块

### 1. 用户管理
- 用户注册与登录：支持账号密码注册和登录
- 个人信息管理：修改个人资料、头像上传
- 权限控制：区分普通用户和管理员角色
### 2. 健康数据管理
- 健康模型配置：支持自定义健康指标模型
- 健康数据记录：记录用户各项健康指标数据
- 健康数据可视化：通过图表直观展示健康数据变化趋势
### 3. 饮食管理
- 食物数据库：包含丰富的食物营养信息
- 饮食记录：记录用户每日饮食情况，包括早餐、午餐、晚餐和加餐
- 营养摄入统计：计算并展示用户每日营养素摄入情况
- 营养目标设定：设置个人营养摄入目标
### 4. AI智能推荐
- 营养推荐：基于用户身体数据（身高、体重、年龄、性别）通过腾讯混元API生成个性化营养摄入建议
- 智能对话：集成Coze AI服务，提供健身和饮食相关的智能问答
### 5. 资讯管理
- 健身资讯发布：支持发布健身相关文章和资讯
- 资讯分类：通过标签对资讯进行分类
- 资讯收藏：用户可收藏感兴趣的资讯
- 浏览量统计：记录和展示资讯浏览量
### 6. 社区互动
- 评论系统：用户可对资讯进行评论
- 点赞功能：支持对评论进行点赞
- 消息通知：系统消息和用户互动消息通知
### 7. 管理员功能
- 用户管理：查看和管理系统用户
- 资讯管理：管理系统中的资讯内容
- 评论管理：审核和管理用户评论
- 食物数据管理：维护食物数据库
- 数据统计：查看系统使用数据和统计信息

## 四、注意事项
### 1.达梦数据库中USER表无法直接访问，需要用双引号包含，如SELECT * FROM SYSDBA."USER" , 也许在安装时通过不同的选项配置可以避免这个问题，但如果你在DM管理工具中浏览USER表数据却提示错误时，尝试以上SQL语句可以解决这个问题。
### 2.对于Coze相关的配置直接写入了本地环境变量之中。
### 3.已知bug：评论功能无法实现多级评论。
### 4.已知bug：在启动项目后，有时候会出现页面无法正确跳转的现象。解决办法（非根治）：对于所有页面，点击后需要点击健康资讯（首页）再去点击其他页面，如此操作直到所有页面都被 “激活” 一次，便不会产生上述现象。
### 5.已知bug：在部分页面中，执行浏览器刷新动作会导致白屏，不会正确跳转路由。

## 五、更新日志
### 2025.5.23
- 1.配置了达梦数据库DM8。
### 2025.5.25
- 1.允许用户发布资讯。
- 2.增加资讯浏览量的属性。
- 3.修复了一个bug，该bug曾导致在“我的收藏”板块中浏览量显示不正确。
### 2025.5.26
- 1.修复了一个bug，该bug曾导致点击某个具体资讯时，刷新页面会产生两个浏览量。
- 2.修复了一个bug，该bug曾导致从不同入口进入浏览资讯时，不会正确产生浏览量。
- 3.为用户主页顶部的推荐资讯添加了显示浏览量的UI。
- 4.修改主页的url为home。
- 5.增加了管理员端对资讯浏览量的显示。
- 6.修复了一个bug，该bug曾导致管理员在点击修改某一个资讯，但是点击了取消后，此时点击新增资讯，页面中是原来待修改资讯的页面。
### 2025.5.28
- 1.修改配置文件。
- 2.新增用户对所发送资讯的管理。
- 3.将“资讯”改为“帖子”，以适配当前项目。
### 2025.6.1
- 1.更新用户端主页的ui界面。
- 2.修复了一个bug，该bug曾导致在我的帖子页面中底部显示的共xx条，显示的是全站总帖子数，而不是用户个人帖子数。
- 3.修复了一个bug，该bug曾导致在用户主页顶部导航栏中，按钮排布不均。
- 4.优化了部分路由显示。
### 2025.6.8
- 1.在数据库中新增食物表，用户饮食记录表，用户每日营养汇总表。
- 2.新增功能，饮食管理：允许用户查看、搜索食物，并允许用户自行新建食物记录。
- 3.新增功能，饮食记录：允许用户记录自己的饮食，并且设定每日建议摄入量去直观显示今日摄入以及占比。
- 4.为USER表新增了性别和出生日期的属性。
### 2025.6.9
- 1.新增调用腾讯混元的api（正在调试阶段）
- 2.增加新功能，系统通过用户的基本身体信息调用混元api给出每日摄入推荐数据。
### 2025.6.10
- 1.对腾讯混元api的接入已经调试完成，功能基本完善。
- 2.优化了一些ui显示。
- 3.修复了一个bug，该bug曾导致饮食记录中各指标的max值没有同步。
- 4.增加了管理员对食物的管理。
### 2025.6.15
- 1.配置了扣子智能体编排相关内容。
### 2025.6.16
- 1.增加扣子智能体操作后端数据库的功能。
- 2.增加扣子智能体读取后端用户基本信息的功能。
- 3.完成一些细节方面更新。
### 2025.6.17
- 1.修复了一个bug，该bug曾导致管理员对用户管理的部分功能失效。
- 2.优化了数据库的结构。
- 3.修复了一个bug，该bug曾导致二级评论不能正确显示（实际仍存在问题，回复者id字段无法正确赋值）。
- 4.修复了一个bug，该bug曾导致对某条评论反复点赞取消，点赞数显示异常。

##  后记
### 	截止2025.6.16，基本完成了对于项目的更新，彼时，我的大学生活似乎也进入了一个新的阶段，愿自己成功保研上岸！